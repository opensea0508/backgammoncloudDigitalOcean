(this["webpackJsonpbackgammon-frontend"]=this["webpackJsonpbackgammon-frontend"]||[]).push([[0],{153:function(e,n,t){},154:function(e,n,t){},293:function(e,n,t){},294:function(e,n,t){"use strict";t.r(n);var r,o,i=t(1),a=t.n(i),c=t(134),s=t.n(c),l=(t(153),t(4)),d=t(43),u=t(2),b=(t(154),t(155),t(20)),p={left:[{quadrantNum:1,pipsRange:{from:6,to:12}},{quadrantNum:2,pipsRange:{from:12,to:18}}],right:[{quadrantNum:0,pipsRange:{from:0,to:6}},{quadrantNum:3,pipsRange:{from:18,to:24}}]},j=.03,h=.07,m=.09,x=.05,O=.25,f=.1,g=.6,v=.19,y="B",w="W",S={turn:"W",diceRolled:[4,3],plyRoll:[4,3],positionTransitionsMap:[],stateMachine:"PENDING_ROLL",initDiceRolled:{W:0,B:0},hitSpace:{W:0,B:0},bearOff:{W:3,B:0},pips:[{isEmpty:!1,player:y,count:2,pipId:0},{isEmpty:!0,player:void 0,count:0,pipId:1},{isEmpty:!0,player:void 0,count:0,pipId:2},{isEmpty:!0,player:void 0,count:0,pipId:3},{isEmpty:!0,player:void 0,count:0,pipId:4},{isEmpty:!1,player:w,count:5,pipId:5},{isEmpty:!0,player:void 0,count:0,pipId:6},{isEmpty:!1,player:w,count:3,pipId:7},{isEmpty:!0,player:void 0,count:0,pipId:8},{isEmpty:!0,player:void 0,count:0,pipId:9},{isEmpty:!0,player:void 0,count:0,pipId:10},{isEmpty:!1,player:y,count:5,pipId:11},{isEmpty:!1,player:w,count:5,pipId:12},{isEmpty:!0,player:void 0,count:0,pipId:13},{isEmpty:!0,player:void 0,count:0,pipId:14},{isEmpty:!0,player:void 0,count:0,pipId:15},{isEmpty:!1,player:y,count:3,pipId:16},{isEmpty:!0,player:void 0,count:0,pipId:17},{isEmpty:!1,player:y,count:5,pipId:18},{isEmpty:!0,player:void 0,count:0,pipId:19},{isEmpty:!0,player:void 0,count:0,pipId:20},{isEmpty:!0,player:void 0,count:0,pipId:21},{isEmpty:!0,player:void 0,count:0,pipId:22},{isEmpty:!1,player:w,count:2,pipId:23}]},N=.4,E=t(0),k=Object(i.createContext)({}),R=function(e){var n=e.children,t=Object(i.useState)(S),r=Object(l.a)(t,2),o=r[0],a=r[1],c=Object(i.useState)([]),s=Object(l.a)(c,2),d=s[0],u=s[1];return Object(E.jsx)(k.Provider,{value:{state:o,consequences:d,updateGameState:a,updateConsequences:u},children:n})},I=function(){return Object(i.useContext)(k)},T=t(18),C=t(15),M=t(27),U=[],_={W:null,B:null},D={W:null,B:null},L=t(51),A=t.n(L),P=t(135),F=t.n(P),W=function(e){return"W"===e?"B":"W"},B=function(e){return e.find((function(e){return null!==e}))},q=function(){return"_"+Math.random().toString(36).substr(2,9)},H=function(e){return new Promise((function(n){return setTimeout(n,e)}))},G=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e.getBoundingClientRect(),o=null===n||void 0===n?void 0:n.getBoundingClientRect();if(void 0!==(null===r||void 0===r?void 0:r.left)&&void 0!==r.top&&void 0!==(null===o||void 0===o?void 0:o.left)&&void 0!==o.top)return{left:o.left-r.left,top:o.top-r.top+t}},z=t(136),V=t.n(z),J=function(e){return"W"===e},Y=function(e){return J(e)?-1:24},X=function(e,n){return void 0!==n&&V()(n.to,(function(n){return n===e}))},K=O,Z=function(){var e=Object(i.useState)([]),n=Object(l.a)(e,2),t=n[0],r=n[1],o=[],a={commit:function(){var e=Object(M.a)(Object(T.a)().mark((function e(n,t,i){var a,c,s,l,d,u,b,p,j,h,m=arguments;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!(m.length>3&&void 0!==m[3])||m[3],c=q(),s="hit-space"===n,l=t===Y(i),d="hit-space"===n?_[i]:U[n],u="hit-space"===t?_[i]:l?D[i]:U[t],b=d.querySelector(".checker.can-be-selected"),p=B([u.querySelector(".can-be-hit.".concat(W(i))),u.querySelector(".position-handle")]),j=l&&!J(i)?100*-K:0,void 0!==(h=G(b,p,j))){e.next=12;break}return e.abrupt("return",c);case 12:return o=[].concat(Object(C.a)(o),[{animationUniqueId:c,left:h.left,top:h.top,duration:N,pipNum:s?void 0:"number"===typeof n?n:void 0,isHitSpaceMove:s,isBearOffMove:l,player:i}]),r(o),e.next=16,H(400);case 16:return a&&(o=o.filter((function(e){return e.animationUniqueId!==c})),r(o)),e.abrupt("return",c);case 18:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),dispose:function(){var e=Object(M.a)(Object(T.a)().mark((function e(n){return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=o.filter((function(e){return e.animationUniqueId!==n})),r(o);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()};return{animationHandler:a,animationsMetadata:t}},Q=function(e){var n=e.animationService,t=function(){var e=Object(M.a)(Object(T.a)().mark((function e(t){var r,o,i,a;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.from,o=t.to,i=t.player,!t.isHit){e.next=13;break}return document.querySelector("#play-move").click(),e.next=5,n.moveChecker.commit(r,o,i,!1);case 5:return a=e.sent,document.querySelector("#play-hit").click(),e.next=9,n.moveChecker.commit(o,"hit-space",W(i));case 9:return e.next=11,n.moveChecker.dispose(a);case 11:e.next=16;break;case 13:return document.querySelector("#play-move").click(),e.next=16,n.moveChecker.commit(r,o,i);case 16:return e.abrupt("return");case 17:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return{handleMoveAnimation:t}},$=t(95),ee=t.n($),ne=t(39),te=t.n(ne),re=function(){var e=Object(i.useState)([]),n=Object(l.a)(e,2),t=n[0],r=n[1],o=[],a={commit:function(){var e=Object(M.a)(Object(T.a)().mark((function e(n,t,i){var a,c,s,l=arguments;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!(l.length>3&&void 0!==l[3])||l[3],c=q(),s=[1].concat(te()(ee()(13,17)).map((function(){return ee()(1,6)}))).concat(i),o=[].concat(Object(C.a)(o),[{player:n,animationUniqueId:c,duration:1,dieFaceSequence:s,nthDie:t}]),r(o),document.querySelector("#play-dice-throw").click(),e.next=9,H(1e3);case 9:return a&&(o=o.filter((function(e){return e.animationUniqueId!==c})),r(o)),e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),dispose:function(){var e=Object(M.a)(Object(T.a)().mark((function e(n){return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=o.filter((function(e){return e.animationUniqueId!==n})),r(o);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()};return{animationHandler:a,animationsMetadata:t}},oe=Object(i.createContext)({}),ie=function(e){var n=e.children,t=Object(i.useState)({selectedChecker:void 0,pressedRoll:!1,pressedUndo:!1,pressedConfirm:!1,isExecutingMove:!1,isExecutingRoll:{W:!1,B:!1}}),r=Object(l.a)(t,2),o=r[0],a=r[1],c=Z(),s=c.animationHandler,d=c.animationsMetadata,u=re(),b=u.animationHandler,p=u.animationsMetadata,j={moveChecker:s,rollDice:b},h=Q({animationService:j}).handleMoveAnimation;return Object(E.jsx)(oe.Provider,{value:{uiState:o,updateUiState:a,handleMoveAnimation:h,animationService:j,animations:{moveChecker:d,rollDice:p}},children:n})},ae=function(){return Object(i.useContext)(oe)},ce=t(35),se=t(5),le=t(16),de=t(148),ue=window.location.hostname;"localhost"===ue?(r="http://"+ue+":3001/api/",o="ws://"+ue+":3001"):(r="https://"+ue+"/api/",o="wss://"+ue);var be,pe,je,he,me,xe,Oe,fe,ge,ve,ye,we,Se,Ne,Ee,ke,Re,Ie,Te,Ce,Me,Ue,_e,De,Le,Ae,Pe,Fe,We,Be,qe,He,Ge,ze,Ve,Je,Ye,Xe,Ke,Ze,Qe,$e,en,nn,tn,rn,on,an,cn,sn,ln,dn,un,bn,pn,jn,hn,mn,xn,On,fn,gn,vn,yn,wn=Object(de.a)(o),Sn=wn,Nn="ALL_USERS_FETCHED",En="ALL_ROOMS_FETCHED",kn="ROOMS_FETCHED",Rn="ROOM_CREATED",In="ROOM_JOINED",Tn="GAME_STARTED",Cn="SYNC_STATE",Mn="EXECUTE_MOVE",Un="EXECUTE_ROLL",_n="ERROR_OCCURRED",Dn="SYNC_NETWORK_STATUS",Ln="REMATCH_INVITATION_SENT",An="REMATCH_INVITATION_DECLINED",Pn="PLAYER_OUT",Fn="NO_PLAYER",Wn="LOGIN_FAILURE",Bn="GET_ALL_USERS",qn="GET_ALL_ROOMS",Hn="GET_ROOMS",Gn="CREATE_ROOM",zn="JOIN_ROOM",Vn="INIT_ROLL",Jn="ROLL",Yn="MOVE",Xn="UNDO_MOVE",Kn="CONFIRM_MOVE",Zn="INVITE_FOR_REMATCH",Qn="ACCEPT_REMATCH",$n="DECLINE_REMATCH",et="QUIT_FROM_GAME",nt="DELETE_ROOM",tt=["PASSWORD_NOT_VALID","PASSWORD_NOT_PRESENT"],rt=function(e){var n=I(),t=n.state,r=n.consequences,o=n.updateGameState,a=n.updateConsequences,c=ae(),s=c.uiState,l=c.updateUiState,d=c.handleMoveAnimation,u=c.animationService,b=Object(le.f)(),p=e.networkState,j=e.updateNetworkState,h=e.roomsService,m=Object(se.a)({},p),x=Object(se.a)({},t),O=Object(C.a)(r),f=Object(se.a)({},s),g=function(e){x=Object(se.a)({},e),o(x)},v=function(e){O=Object(C.a)(e),a(O)},y=function(e){m=Object(se.a)({},e),j(m)},w=function(e){f=Object(se.a)({},e),l(f)};return Object(i.useEffect)((function(){Sn.on(kn,(function(e){console.log(e.rooms),H(200).then((function(){h.setRooms(e.rooms),h.setIsLoading(!1)}))})),Sn.on(En,(function(e){console.log("all_rooms_fetched"),H(200).then((function(){h.setAllRooms(e.allRooms),h.setIsLoadingAll(!1),console.log("all rooms fetched"),console.log(e.allRooms)}))})),Sn.on(Nn,(function(e){H(200).then((function(){h.setAllUsers(e.allUsers),h.setIsLoadingAll(!1)}))})),Sn.on(Rn,(function(e){var n=e.roomId,t=e.roomName,r=e.role,o=e.hostUsername,i=e.status;console.log(Rn,e),m=Object(se.a)(Object(se.a)({},m),{},{status:i,roomId:n,roomName:t,role:r,hostUsername:o}),y(m),H(500).then((function(){h.initCreateForm(),h.setIsCreatingRoom(!1)}))})),Sn.on(Dn,(function(e){console.log(Dn,e);var n=e.roomId,t=e.role,r=e.hostUsername,o=e.guestUsername,i=e.status;m=Object(se.a)(Object(se.a)({},m),{},{status:i,roomId:n,role:t,hostUsername:r,guestUsername:o}),y(m)})),Sn.on(In,(function(e){console.log(In,e);var n=e.roomId,t=e.roomName,r=e.role,o=e.hostUsername,i=e.guestUsername,a=e.status;console.log("joining"),m=Object(se.a)(Object(se.a)({},m),{},{roomId:n,roomName:t,role:r,hostUsername:o,guestUsername:i,status:a}),y(m),h.setError(void 0),b.push("/game/".concat(n))})),Sn.on(Wn,(function(e){localStorage.removeItem("user"),b.push("/login")})),Sn.on(Tn,(function(e){console.log(Tn,e);var n=e.initState;g(Object(se.a)({},n)),h.setIsSendRematchInvitationLoading(!1),h.setHasPendingRematchInvitation(!1),m=Object(se.a)(Object(se.a)({},m),{},{status:"STARTED"}),y(m)})),Sn.on(Cn,(function(e){console.log(Cn,e);var n=e.state,t=e.finalState;g(Object(se.a)({},n)),t&&H(1500).then((function(){g(Object(se.a)({},t))})),y(Object(se.a)(Object(se.a)({},m),{},{status:"STARTED"}));w(Object(se.a)(Object(se.a)({},f),{pressedRoll:!1,pressedUndo:!1,pressedConfirm:!1}))})),Sn.on(Un,function(){var e=Object(M.a)(Object(T.a)().mark((function e(n){var t,r,o,i,a;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(Un,n),t=n.diceRolledMetadata,r=n.consequences,o=n.state,i=A()(t,(function(e){var n=e.player,t=e.nthDie,r=e.die;return u.rollDice.commit(n,t,r)})),a=t[0].player,w(Object(se.a)(Object(se.a)({},f),{},{isExecutingRoll:Object(se.a)(Object(se.a)({},f.isExecutingRoll),{},Object(ce.a)({},a,!0))})),e.next=7,Promise.all(i);case 7:if(!(r.length>0)){e.next=12;break}return v(r),e.next=11,H(1500);case 11:v([]);case 12:g(o),w(Object(se.a)(Object(se.a)({},f),{},{isExecutingRoll:Object(se.a)(Object(se.a)({},f.isExecutingRoll),{},Object(ce.a)({},a,!1))}));case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),Sn.on(Vn,(function(e){console.log(Vn,e);var n=e.state;g(Object(se.a)({},n)),m=Object(se.a)(Object(se.a)({},m),{},{status:"STARTED"}),y(m)})),Sn.on(Mn,function(){var e=Object(M.a)(Object(T.a)().mark((function e(n){var t,r,o,i,a;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(Mn,"EXECUTING",n),t=n.transactionEntries,w(Object(se.a)(Object(se.a)({},f),{},{isExecutingMove:!0})),r=0;case 4:if(!(r<t.length)){e.next=13;break}return o=t[r].move,i=t[r].state,e.next=9,d(o);case 9:g(i);case 10:r++,e.next=4;break;case 13:void 0!==(a=n.finalState)&&g(a),w(Object(se.a)(Object(se.a)({},f),{},{isExecutingMove:!1}));case 16:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),Sn.on(Ln,(function(){h.setHasPendingRematchInvitation(!0)})),Sn.on(An,(function(){h.setIsSendRematchInvitationLoading(!1),h.setHasPendingRematchInvitation(!1),b.push("/")})),Sn.on(_n,function(){var e=Object(M.a)(Object(T.a)().mark((function e(n){var t;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(_n,"ERROR",n),t=n.errorType,tt.includes(t)&&(h.setError(n),h.setIsJoiningRoom(!1));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),Sn.on(Pn,(function(e){console.log(e),"HOST"===e.role&&(console.log("======4. host player jumped out========="),"HOST"===m.role?(m.status="NOT_STARTED",m.role=void 0,m.hostUsername=void 0,m.guestUsername=void 0,m.roomId=void 0,m.roomName=void 0):(m.status="WAITING_FOR_GUEST",m.role="HOST",m.hostUsername=m.guestUsername,m.guestUsername=void 0),y(m)),"GUEST"===e.role&&(console.log("======4. GUEST player jumped out========="),"HOST"===m.role?(m.status="WAITING_FOR_GUEST",m.guestUsername=void 0):(m.status="NOT_STARTED",m.role=void 0,m.hostUsername=void 0,m.guestUsername=void 0,m.roomId=void 0,m.roomName=void 0),y(m))})),Sn.on(Fn,(function(){console.log("======4.there is no player========="),m.status="NOT_STARTED",m.role=void 0,m.hostUsername=void 0,m.guestUsername=void 0,m.roomId=void 0,m.roomName=void 0,y(m),console.log("")}))}),[]),{}},ot=function(e){var n=e.roomsService;return{createRoom:function(e){Sn.emit(Gn,{roomName:e})},deleteRoom:function(e){console.log("deleteRoom"),Sn.emit(nt,{roomId:e})},joinRoom:function(e,n,t){Sn.emit(zn,{roomId:e,username:n,accessToken:t})},pressInitRoll:function(){Sn.emit(Vn,"")},pressRoll:function(){Sn.emit(Jn,"")},getRooms:function(){n.setIsLoading(!0),Sn.emit(Hn,"")},getAllRooms:function(){console.log("call getallrooms function"),n.setIsLoadingAll(!0),Sn.emit(qn,"")},getAllUsers:function(){n.setIsLoadingAll(!0),Sn.emit(Bn,"")},selectToMove:function(e){Sn.emit(Yn,e)},confirmMove:function(){Sn.emit(Kn,"")},undo:function(){Sn.emit(Xn,"")},sendRematchInvitation:function(){Sn.emit(Zn,"")},acceptRematchInvitation:function(){Sn.emit(Qn,"")},declineRematchInvitation:function(){Sn.emit($n,"")},quitFromGame:function(e,n,t,r,o){console.log("===========2.IO.emit called=============="),Sn.emit(et,{status:e,roomId:n,role:t,hostUsername:r,guestUsername:o})}}},it=function(e){var n=Object(i.useState)(!1),t=Object(l.a)(n,2),r=t[0],o=t[1],a=Object(i.useState)(!1),c=Object(l.a)(a,2),s=c[0],d=c[1],u=Object(i.useState)(!1),b=Object(l.a)(u,2),p=b[0],j=b[1],h=Object(i.useState)(!1),m=Object(l.a)(h,2),x=m[0],O=m[1],f=Object(i.useState)([]),g=Object(l.a)(f,2),v=g[0],y=g[1],w=Object(i.useState)([]),S=Object(l.a)(w,2),N=S[0],E=S[1],k=Object(i.useState)([]),R=Object(l.a)(k,2),I=R[0],T=R[1],C=Object(i.useState)(!1),M=Object(l.a)(C,2),U=M[0],_=M[1],D=Object(i.useState)(!1),L=Object(l.a)(D,2),A=L[0],P=L[1],F=Object(i.useState)({roomName:void 0}),W=Object(l.a)(F,2),B=W[0],q=W[1],H=Object(i.useState)({roomId:void 0,username:void 0}),G=Object(l.a)(H,2),z=G[0],V=G[1],J=Object(i.useState)(void 0),Y=Object(l.a)(J,2),X=Y[0],K=Y[1];return{isLoading:r,setIsLoading:o,rooms:v,setRooms:y,isLoadingAll:s,setIsLoadingAll:d,allRooms:N,setAllRooms:E,allUsers:I,setAllUsers:T,createRoomForm:B,isCreatingRoom:U,setIsCreatingRoom:_,updateCreateRoomForm:q,initCreateForm:function(){q({roomName:void 0})},isJoiningRoom:A,setIsJoiningRoom:P,updateJoinRoomForm:V,joinRoomForm:z,initJoinForm:function(){V({roomId:void 0,username:void 0})},error:X,setError:K,isSendRematchInvitationLoading:p,setIsSendRematchInvitationLoading:j,hasPendingRematchInvitation:x,setHasPendingRematchInvitation:O}},at=Object(i.createContext)({}),ct=function(e){var n=e.children,t=Object(i.useState)({status:"NOT_STARTED",roomId:void 0,roomName:void 0,hostUsername:void 0,guestUsername:void 0,role:void 0}),r=Object(l.a)(t,2),o=r[0],a=r[1],c=it({});rt({networkState:o,updateNetworkState:a,roomsService:c});var s=ot({networkState:o,updateNetworkState:a,roomsService:c});return Object(E.jsx)(at.Provider,{value:{networkState:o,roomsService:c,emitterService:s},children:n})},st=function(){return Object(i.useContext)(at)},lt=t(9),dt=Object(i.createContext)({}),ut=function(e){var n=e.children,t=st(),r=t.networkState,o=t.roomsService,i=I(),a=i.state,c=i.consequences,s=ae().uiState,l="HOST"===r.role?"W":"B",d=a.turn===l,u=function(e){var n=a.stateMachine,t=(a.turn,a.initDiceRolled);a.diceRolled;return s.isExecutingRoll[e]||"PENDING_MOVE"===n||"PENDING_INIT_ROLL"===n&&-1!==t[e]},b=function(e){var n=function(e){return"W"===e?"HOST":"GUEST"}(e);return("HOST"===n?r.hostUsername:r.guestUsername)||""},p=function(){return"WIN"===a.stateMachine};return Object(E.jsx)(dt.Provider,{value:{myPlayer:l,isMyTurn:d,canInviteForRematch:function(){if(!p())return!1;var e=o.isSendRematchInvitationLoading,n=o.hasPendingRematchInvitation;return!e&&!n},shouldShowRematchInvitation:function(){return!!p()&&o.hasPendingRematchInvitation},canInitRoll:function(){var e=s.pressedRoll,n=s.isExecutingRoll,t=a.stateMachine,r=a.initDiceRolled,o=[!n[l],"PENDING_INIT_ROLL"===t,-1===r[l],!e];return Object(lt.every)(o,lt.identity)},canRoll:function(){var e=a.stateMachine,n=a.diceRolled,t=s.pressedRoll,r=s.isExecutingRoll,o=[d,!r[l],"PENDING_ROLL"===e,0===n.length,!t];return Object(lt.every)(o,lt.identity)},canUndo:function(){var e=s.isExecutingMove,n=s.pressedUndo,t=a.stateMachine,r=a.diceRolled,o=[a.plyRoll.length>r.length,!n,d,"PENDING_MOVE"===t,!e];return Object(lt.every)(o,lt.identity)},canConfirmMove:function(){var e=s.pressedConfirm,n=a.stateMachine,t=a.diceRolled,r=a.positionTransitionsMap,o=[d,!e,"PENDING_MOVE"===n,0===t.length||0===r.length];return Object(lt.every)(o,lt.identity)},getHasPipMove:function(e,n){var t=a.positionTransitionsMap,r=Object(lt.get)(Object(lt.find)(t,{from:e}),"to.length",0)>0;return"hit-space"===e?d&&("hit-space"===e&&n===l)&&r:d&&r},getUsernameByPlayer:b,areThereNonAvailableMoves:function(){return Boolean(Object(lt.find)(c,{type:"NON_AVAILABLE_MOVES"}))},shouldShowDiceContainer:u,getDiceMetadata:function(e){if(!u(e))return[];var n=a.stateMachine,t=a.turn,r=a.initDiceRolled,o=a.diceRolled,i=s.isExecutingRoll[e],l=Object(lt.find)(c,{type:"NON_AVAILABLE_MOVES"});if("PENDING_INIT_ROLL"===n){var d=Object(lt.find)(c,{type:"SAME_DIE_ROLLED"}),b=Object(lt.find)(c,{type:"FINISHED_INIT_ROLL"});if(void 0!==d)return[{nthDie:0,dieNum:d.payload.rolledDie}];if(void 0!==b)return[{nthDie:0,dieNum:b.payload.initDiceRolled[e]}];var p=r[e];return[-1!==p?{nthDie:0,dieNum:p}:{nthDie:0,dieNum:1}]}if(i){var j=void 0!==l?l.payload.rolledDice:Object(lt.times)(2);return Object(lt.map)(j,(function(e,n){return{nthDie:n,dieNum:e}}))}if(e===t){var h=Object(lt.find)(c,{type:"NON_AVAILABLE_MOVES"}),m=void 0!==h?h.payload.rolledDice:o;return Object(lt.map)(m,(function(e,n){return{nthDie:n,dieNum:e}}))}return[]},hasWin:p,whoWon:function(){var e;if(p())return null===(e=Object(lt.maxBy)(Object(lt.map)([w,y],(function(e){return{playerName:b(e),bearOffRank:a.bearOff[e]}})),"bearOffRank"))||void 0===e?void 0:e.playerName}},children:n})},bt=function(){return Object(i.useContext)(dt)},pt=Object(i.createContext)({}),jt=function(e){var n=e.children,t=I(),r=t.state,o=t.consequences,i=ae().uiState,a=bt(),c=a.areThereNonAvailableMoves,s=a.getUsernameByPlayer,l=a.hasWin,d=a.whoWon,u=function(){return Object(lt.some)(o,{type:"SAME_DIE_ROLLED"})},b=function(){return Object(lt.some)(o,{type:"FINISHED_INIT_ROLL"})};return Object(E.jsx)(pt.Provider,{value:{inferLog:function(){return Object(lt.cond)([[l,Object(lt.constant)(Object(E.jsxs)("span",{style:{color:"greenyellow"},children:["Player ",Object(E.jsx)("label",{style:{color:"#ffd17a"},children:d()})," has won"]}))],[c,Object(lt.constant)("There are no moves available")],[u,Object(lt.constant)("Same Die Rolled, please Roll Again")],[b,function(){var e=Object(lt.find)(o,{type:"FINISHED_INIT_ROLL"});return Object(E.jsxs)("span",{children:[s(e.payload.turn)," had bigger roll, he plays first"]})}],[function(){return"PENDING_INIT_ROLL"===r.stateMachine},Object(lt.constant)("Waiting for init roll")],[function(){return i.isExecutingMove},Object(lt.constant)(Object(E.jsxs)("span",{children:[Object(E.jsx)("label",{style:{color:"#ffd17a"},children:s(r.turn)}),"'s turn: Currently moving"]}))],[function(){return"PENDING_MOVE"===r.stateMachine},Object(lt.constant)(Object(E.jsxs)("span",{children:[Object(E.jsxs)("label",{style:{color:"#ffd17a"},children:[s(r.turn)," "]}),"'s turn: Waiting to move"]}))],[function(){return i.isExecutingRoll.B||i.isExecutingRoll.W},Object(lt.constant)(Object(E.jsxs)("span",{children:[Object(E.jsxs)("label",{style:{color:"#ffd17a"},children:[s(r.turn)," "]}),"'s turn: Currently rolling"]}))],[function(){return"PENDING_ROLL"===r.stateMachine},Object(lt.constant)(Object(E.jsxs)("span",{children:[Object(E.jsx)("label",{style:{color:"#ffd17a"},children:s(r.turn)})," ","'s turn: Waiting to roll"]}))]])(void 0)}},children:n})},ht=t(6),mt=t(7),xt=t(32),Ot=t.n(xt),ft=new(function(){function e(){Object(ht.a)(this,e)}return Object(mt.a)(e,[{key:"login",value:function(e,n){return Ot.a.post(r+"auth/signin",{username:e,password:n}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"logout",value:function(){Ot.a.post(r+"auth/logout",{username:this.getCurrentUser()}).then((function(e){return localStorage.removeItem("user")}))}},{key:"register",value:function(e,n,t,o,i,a,c,s){return Ot.a.post(r+"auth/signup",{username:e,email:n,password:t,country:o,state:i,gender:a,birthday:c,role:s}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"getCurrentUser",value:function(){var e=localStorage.getItem("user");return e?JSON.parse(e):null}}]),e}()),gt={on:function(e,n){document.addEventListener(e,(function(e){return n(e)}))},dispatch:function(e,n){document.dispatchEvent(new CustomEvent(e,{detail:n}))},remove:function(e,n){document.removeEventListener(e,n)}},vt=t(3),yt="#7f512f",wt=u.c.div(be||(be=Object(vt.a)(["\n  background-image: url(/wood-texture.png);\n  height: calc(100vh - 56px);\n  padding: 10px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),St=u.c.div(pe||(pe=Object(vt.a)(["\n  box-shadow: 5px -3px 16px black;\n  background-image: url(/wood-board.jpg);\n  border-radius: 4px;\n  min-width: 500px;\n  max-width: 900px;\n  width: 30%;\n  height: 500px;\n  display: flex;\n  flex-direction: column;\n"]))),Nt=(u.c.div(je||(je=Object(vt.a)(["\n  height: 40px;\n  border-bottom: 1px solid ",";\n  font-size: 19px;\n  font-style: italic;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: white;\n"])),yt),u.c.div(he||(he=Object(vt.a)(["\n  display: flex;\n  height: 100%;\n  opacity: 0.7;\n"])))),Et=(u.c.div(me||(me=Object(vt.a)(["\n  box-sizing: border-box;\n  border-right: 1px solid ",";\n  border-radius: 4px;\n  border-top-right-radius: 0px;\n  border-bottom-right-radius: 0px;\n  display: flex;\n  flex-direction: column;\n  width: 30%;\n  min-width: 170px;\n"])),yt),u.c.div(xe||(xe=Object(vt.a)(["\n  height: 40px;\n  font-size: 13px;\n\n  color: white;\n  padding: 0px 15px;\n  display: flex;\n\n  align-items: center;\n\n  transition: background-color 0.3s ease-out;\n  user-select: none;\n  cursor: pointer;\n\n  &:hover {\n    background-color: ",";\n  }\n\n  ","\n"])),yt,(function(e){return e.isSelected&&"background-color: ".concat(yt,";\n  ")})),u.c.div(Oe||(Oe=Object(vt.a)(["\n  flex: 1;\n  height: 100%;\n  box-sizing: border-box;\n"])))),kt=(Object(u.c)(b.b)(fe||(fe=Object(vt.a)(["\n  text-decoration: none !important;\n"]))),u.c.div(ge||(ge=Object(vt.a)(["\n"])))),Rt=u.c.h3(ve||(ve=Object(vt.a)(["\n  color: white;\n  height: 32px;\n  font-size: 1rem;\n  margin: 0px;\n  padding: 0px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-weight: 600;\n  border-bottom: 1px solid ",";\n"])),yt),It=u.c.div(ye||(ye=Object(vt.a)(["\n  padding: 10px;\n"]))),Tt=(u.c.p(we||(we=Object(vt.a)(["\n  font-size: 13px;\n  color: white;\n"]))),u.c.button(Se||(Se=Object(vt.a)(["\n  border-radius: 4px;\n  border: none;\n  outlone: none;\n  background-color: ",";\n  color: white;\n  border: 2px solid black;\n  cursor: pointer;\n  transition: backround-color 0.5s ease-in;\n\n  &:hover:not(:disabled) {\n    background-color: orange;\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    opacity: 0.7;\n  }\n"])),yt)),Ct=u.c.div(Ne||(Ne=Object(vt.a)(["\n  display: flex;\n  padding: 10px;\n"]))),Mt=u.c.label(Ee||(Ee=Object(vt.a)(["\n  background-color: #fa4f4f;\n  font-size: 13px;\n  color: white;\n  border-radius: 4px;\n  padding: 8px 16px;\n  font-weight: 700;\n  font-style: italic;\n"]))),Ut=u.c.input(ke||(ke=Object(vt.a)(["\n  outline: none;\n  border: none;\n  padding: 0px;\n  margin: 0px;\n  box-sizing: border-box;\n  border: 1px solid transparent;\n  border-radius: 4px;\n  display: block;\n  color: white;\n  background-color: ",";\n  height: 30px;\n  padding: 4px 8px;\n  transition: opacity, border-color 0.3s ease-in;\n  opacity: 1;\n\n  &::placeholder {\n    color: #8fe6d6;\n    font-style: italic;\n    opacity: 1;\n  }\n\n  &:focus {\n    border: 1px solid white;\n    opacity: 0.9;\n  }\n"])),yt),_t=function(e){var n=e.defaultValue,t=e.value,r=e.onChange,o=e.width,a=void 0===o?"250px":o,c=e.type,s=void 0===c?"text":c,d=e.placeholder,u=void 0===d?"":d,b=Object(i.useState)(n),p=Object(l.a)(b,2),j=p[0],h=p[1];Object(i.useEffect)((function(){h(t)}),[t]);return Object(E.jsx)(Ut,{type:s,style:{width:a},placeholder:u,value:j||"",onChange:function(e){var n=e.target.value;h(n),r(n)}})},Dt=function(){var e=st(),n=e.emitterService,t=e.roomsService,r=t.isCreatingRoom,o=t.updateCreateRoomForm,i=t.createRoomForm,a=t.setIsCreatingRoom,c=[t.createRoomForm.roomName].some((function(e){return void 0===e||""===e}))||r;return Object(E.jsxs)(kt,{children:[Object(E.jsx)(Rt,{children:"Create New Game"}),Object(E.jsxs)(It,{children:[Object(E.jsx)(Ct,{children:Object(E.jsx)(_t,{width:"100%",placeholder:"Roomname",defaultValue:"",value:i.roomName,onChange:function(e){return function(e,n){o(Object(se.a)(Object(se.a)({},i),{},Object(ce.a)({},e,n)))}("roomName",e)}})}),Object(E.jsx)(Ct,{style:{flexDirection:"row-reverse"},children:Object(E.jsx)(Tt,{style:{height:"32px"},disabled:c,onClick:function(){return function(){a(!0);var e=i.roomName;n.createRoom(e)}()},children:r?"Creating":"Create Game"})})]})]})},Lt=Object(u.c)(It)(Re||(Re=Object(vt.a)(["\n  display: flex;\n  flex-direction: column;\n  max-height: 300px;\n"]))),At=u.c.div(Ie||(Ie=Object(vt.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  overflow-y: auto;\n"]))),Pt=u.c.div(Te||(Te=Object(vt.a)(["\n  margin-bottom: 20px;\n  padding: 4px;\n  border: 1px solid transparent;\n\n  transition: border-color 0.3s ease-out;\n\n  ","\n"])),(function(e){return e.isExpanded&&"border-color: gray;"})),Ft=u.c.div(Ce||(Ce=Object(vt.a)(["\n  box-shadow: 5px -3px 16px black;\n  height: 28px;\n  border-radius: 4px;\n  padding: 0px 8px;\n  user-select: none;\n  background-color: ",";\n  margin-bottom: 4px;\n  display: flex;\n\n  &:hover {\n    opacity: 0.7;\n  }\n  cursor: pointer;\n"])),yt),Wt=u.c.section(Me||(Me=Object(vt.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex: 1;\n\n  & input {\n    height: 90%;\n    width: 100%;\n  }\n"]))),Bt=u.c.label(Ue||(Ue=Object(vt.a)(["\n  display: inline-block;\n  font-size: 13px;\n  font-weight: 700;\n  min-width: 80px;\n  color: white;\n"]))),qt=(u.c.label(_e||(_e=Object(vt.a)(["\n  color: #9de7ec;\n  font-size: 13px;\n  font-weight: 600;\n"]))),u.c.div(De||(De=Object(vt.a)([""]))),function(){var e=Object(le.f)(),n=Object(i.useState)(void 0),t=Object(l.a)(n,2),r=t[0],o=t[1],a=st(),c=a.emitterService,s=a.roomsService,d=Object(i.useState)(""),u=Object(l.a)(d,2),b=u[0],p=u[1],j=Object(i.useState)(""),h=Object(l.a)(j,2),m=h[0],x=h[1],O=Object(i.useState)(""),f=Object(l.a)(O,2),g=f[0],v=f[1],y=s.rooms,w=s.isLoading,S=s.isJoiningRoom,N=(s.updateJoinRoomForm,s.joinRoomForm,s.setIsJoiningRoom),k=s.error;Object(i.useEffect)((function(){var e,n;p(null===(e=ft.getCurrentUser())||void 0===e?void 0:e.username),x(null===(n=ft.getCurrentUser())||void 0===n?void 0:n.accessToken),c.getRooms(),console.log(!b),s.setIsJoiningRoom(!1),s.setError(void 0),console.log("this is a join room"),console.log(y)}),[]);var R=!b||S,I=void 0===k?void 0:function(e){var n=e.errorType,t=e.payload;switch(n){case"PASSWORD_NOT_PRESENT":return"There was no password for room named: ".concat(t.roomName);case"PASSWORD_NOT_VALID":return"Password for room '".concat(t.roomName,"' was not valid. Please try again.");default:return"Some error happened"}}(k);return Object(E.jsxs)(kt,{children:[g&&Object(E.jsx)("div",{className:"form-group",children:Object(E.jsx)("div",{className:b?"alert alert-success":"alert alert-danger",role:"alert",children:g})}),Object(E.jsxs)(Rt,{children:["Available Rooms (",w?"Loading":"Up to date",")"]}),Object(E.jsx)(Lt,{children:Object(E.jsx)(At,{children:y.map((function(n){return Object(E.jsxs)(Pt,{isExpanded:r===n.id,children:[Object(E.jsx)(Ft,{onClick:function(){b?o((function(e){return e!==n.id?n.id:void 0})):(v("Please, Login first"),e.push("/login"))},children:Object(E.jsxs)(Wt,{children:[Object(E.jsx)(Bt,{children:n.name}),"ROOM_CREATED"===n.status&&Object(E.jsx)(Bt,{children:"0/2"}),"WAITING_FOR_GUEST"===n.status&&Object(E.jsx)(Bt,{children:"1/2"})]})}),n.id===r&&Object(E.jsx)(kt,{children:Object(E.jsxs)(It,{children:[I&&Object(E.jsx)(Ct,{children:Object(E.jsx)(Mt,{children:I})}),Object(E.jsx)(Ct,{style:{flexDirection:"row-reverse"},children:Object(E.jsx)(Tt,{style:{height:"32px"},disabled:R,onClick:function(){return e=n.id,console.log("trying to join",e),N(!0),void c.joinRoom(e,b,m);var e},children:S?"Joining Room":"Join Room ".concat(n.name)})})]})})]},n.id)}))})})]})}),Ht=function(){Object(le.g)();var e=Object(i.useState)(""),n=Object(l.a)(e,2),t=n[0],r=n[1],o=Object(i.useState)(void 0),a=Object(l.a)(o,2);a[0],a[1];return Object(i.useEffect)((function(){var e;r(null===(e=ft.getCurrentUser())||void 0===e?void 0:e.role)}),[]),Object(E.jsx)(wt,{children:Object(E.jsx)(St,{children:Object(E.jsx)(Nt,{children:Object(E.jsx)(Et,{children:"ROLE_ADMIN"===t?Object(E.jsx)(Dt,{}):Object(E.jsx)(qt,{})})})})})},Gt=u.c.div(Le||(Le=Object(vt.a)([""]))),zt=function(){return Object(E.jsx)(Gt,{children:Object(E.jsx)(Ht,{})})},Vt=x,Jt=O,Yt=u.c.div(We||(We=Object(vt.a)(["\n  border-radius: 50%;\n  width: 80%;\n  height: 80%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  font-size: 24px;\n  font-weight: bold;\n\n  color: ",";\n"])),(function(e){return"W"===e.player?"black":"white"})),Xt=u.c.div(Be||(Be=Object(vt.a)(["\n  z-index: 1;\n  border-radius: 50%; \n  transition: background 1s ease-in;\n  box-sizing: border-box;\n\n\n  ",";\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n \n  left: 0px;\n  top: 0px;\n\n  margin: auto;\n  margin-top: 0px;\n  margin-bottom: 0px;\n   ",";}\n\n  \n  ","\n\n\n      ","\n   \n    ","\n  \n\n    ","\n\n"])),(function(e){var n=e.theme.dimensions;return"\n    width: ".concat(n.width*Vt,"px;\n    height: ").concat(n.width*Vt,"px;\n    ")}),(function(e){var n,t=e.animationMetadata,r=e.shouldAnimate;return t&&r&&Object(u.b)(qe||(qe=Object(vt.a)(["\n       animation: ","\n         ","s cubic-bezier(0.91, 1, 0.61, 0.95);\n       animation-fill-mode: forwards;\n     "])),(n={left:t.left,top:t.top},Object(u.d)(Ae||(Ae=Object(vt.a)(["\n  0% {\n    z-index: 2;\n  }\n  100% {\n    left: ","px;\n    top: ","px;\n    z-index: 2;\n  }\n"])),n.left,n.top)),t.duration)}),(function(e){return"W"===e.player?" \n \n      background: linear-gradient(-30deg, rgb(0, 0, 0), rgb(200, 230, 255));\n      & ".concat(Yt," {\n        background: linear-gradient(0deg, rgb(196 219 237) 0%, rgb(39 23 12 / 79%) 100%);\n      }"):"\n      background: linear-gradient(13deg ,rgb(9 10 10),rgb(116 125 133));\n      & ".concat(Yt," {\n       background: linear-gradient(235deg, rgb(25 26 27 / 91%) 0%,rgb(160 155 151 / 79%) 100%);\n      }}")}),(function(e){return e.hasMove&&Object(u.b)(He||(He=Object(vt.a)(["\n          animation: "," 0.5s ease-out infinite alternate;\n          // background: linear-gradient(-30deg, rgb(22 206 122), rgb(116 125 133));\n          cursor: pointer;\n        "])),Object(u.d)(Pe||(Pe=Object(vt.a)(["\n  0% {\n    background: linear-gradient(-30deg, rgb(22 206 122), rgb(116 125 133));\n    // background: linear-gradient(-30deg, rgb(0 206 55), rgb(16 25 133));\n  }\n  100% {\n  \n    background: linear-gradient(-30deg, rgb(22 206 122), rgb(116 125 133));\n  }\n"]))))}),(function(e){var n=e.isBearOffChecker,t=e.theme.dimensions;return n&&"\n      border-radius: 4px;\n      \n      height: ".concat(t.width*Vt*Jt,"px;\n    ")}),(function(e){return e.isSelected&&Object(u.b)(Ge||(Ge=Object(vt.a)(["\n        border: 1px solid black;\n        // animation: "," 0.3s ease-out infinite alternate;\n      "])),Object(u.d)(Fe||(Fe=Object(vt.a)(["\n  0% {\n    transform: scale(1);\n    // border: 2px solid white;\n  }\n  100% {\n  \n    transform: scale(1.1);\n    // border: 2px solid orange;\n  }\n"]))))})),Kt=function(e){var n,t=e.player,r=e.pipNum,o=e.checkerNum,i=e.canBeSelected,a=e.isHitChecker,c=void 0!==a&&a,s=e.countIndicator,l=e.canBeHit,d=void 0!==l&&l,u=e.hasMove,b=void 0!==u&&u,p=e.isBearOffChecker,j=void 0!==p&&p,h=ae(),m=h.uiState,x=h.updateUiState,O=h.animations.moveChecker,f=m.selectedChecker,g=(n=[{when:!0,value:"checker"},{when:void 0!==t,value:t},{when:i,value:"can-be-selected"},{when:d,value:"can-be-hit"}],A()(F()(n,{when:!0}),"value").join(" ")),v=O.find((function(e){return void 0!==e.pipNum&&e.pipNum===r||e.isHitSpaceMove&&c&&e.player===t})),y=void 0!==v&&i,w=j||y&&Boolean(null===v||void 0===v?void 0:v.isBearOffMove),S=!w,N=i&&(null===f||void 0===f?void 0:f.pipId)===r;return Object(E.jsx)(Xt,{className:g,onMouseDown:b?function(e){if(b){e.stopPropagation();var n=m.selectedChecker,t=(null===n||void 0===n?void 0:n.pipId)===r?void 0:Object(se.a)(Object(se.a)({},n),{},{pipId:void 0===r?"hit-space":r});document.querySelector("#play-select-checker").click(),x(Object(se.a)(Object(se.a)({},m),{},{selectedChecker:t}))}}:void 0,player:t,checkerNum:o,shouldAnimate:y,animationMetadata:v,canBeSelected:i,hasMove:b&&!y,isBearOffChecker:w,isSelected:N,children:S&&Object(E.jsx)(Yt,{player:t,children:!y&&s})})},Zt=j,Qt=h,$t=m,er=u.c.div(ze||(ze=Object(vt.a)(["\n  border-radius: 4px;\n  position: relative;\n  ","\n"])),(function(e){var n=e.theme.dimensions;return"\n  width: ".concat(n.width-$t*n.width,"px;\n  height: ").concat(n.height,"px;\n")})),nr=u.c.div(Ve||(Ve=Object(vt.a)(["\n  border-radius: 4px;\n  position: relative;\n  box-shadow: 10px -8px 18px black;\n  ",";\n"])),(function(e){var n=e.theme;return"\n    width: ".concat(n.dimensions.width,"px;\n    height: ").concat(n.dimensions.height,"px;\n  ")})),tr=u.c.div(Je||(Je=Object(vt.a)(["\n  background-image: url(/wood-board.jpg);\n  position: absolute;\n  border: 1px solid black;\n  border: none;\n  border-radius: 4px;\n  box-sizing: border-box;\n  ",";\n"])),(function(e){return function(e,n){switch(e){case"W":return"\n        left: 0px;\n        top: 0px;\n        width: ".concat(n.width*Zt,"px;\n        height: 100%;\n        box-shadow: 9px 3px 8px #2c1c1c;\n        z-index: 1;\n      ");case"N":return"\n        left: 0px;\n        top: 0px;\n        width: 100%;\n        height: ".concat(n.height*Zt,"px;\n    ");case"S":return"\n        left: 0px;\n        bottom: 0px;\n        width: 100%;\n        height: ".concat(n.height*Zt,"px;\n        ");case"E":return"\n        border-right: none;\n        border-radius: 0px;\n        right: 0px;\n        top: 0px;\n        width: ".concat(n.width*Zt,"px;\n        height: 100%;\n        ");case"CENTER":return"\n        border-radius: 0px;\n        left: calc(50% - ".concat(n.width*Qt,"px / 2);\n        top: ").concat(n.height*Zt,"px;\n        width: ").concat(n.width*Qt,"px;\n        height: calc(100% - ").concat(n.height*Zt*2,"px);\n        border-bottom: none;\n        border-top: none;\n        display: flex;\n        flex-direction: column;\n      ");case"BEAROFF":return"\n        border: none;\n        // border-right: 1px solid black;\n        // border-top: 1px solid black;\n        border-radius: 0px;\n        right: 0px;\n        top: 0px;\n        width: ".concat(n.width*$t-0,"px;\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n          ")}}(e.side,e.theme.dimensions)})),rr=u.c.div(Ye||(Ye=Object(vt.a)(["\n  position: absolute;\n  box-sizing: border-box;\n  background-color: #1dc6dc;\n  width: ",";\n  height: ",";\n\n  ",";\n\n  top: ",";\n  display: flex;\n  flex-direction: column;\n"])),(function(e){var n=e.theme;return"calc(50% - (".concat(n.dimensions.width*Zt,"px + ").concat(n.dimensions.width*Qt/2,"px))")}),(function(e){var n=e.theme;return"calc(100% - ".concat(n.dimensions.height*Zt*2,"px)")}),(function(e){var n=e.theme,t=e.side;return"".concat(t,":").concat(n.dimensions.width*Zt,"px")}),(function(e){var n=e.theme;return"\n    ".concat(n.dimensions.height*Zt,"px;\n  ")})),or=(u.c.div(Xe||(Xe=Object(vt.a)(["\n  box-shadow: -10px -8px 22px black;\n  border: 1px solid black;\n  border-radius: 4px;\n  box-sizing: border-box;\n  background-color: #0200006b;\n\n  height: 40%;\n  width: 90%;\n  margin-top: 20px;\n"]))),u.c.div(Ke||(Ke=Object(vt.a)(["\n  width: 2px;\n  height: 100%;\n\n  position: absolute;\n  top: 0px;\n  left: calc(50% - 1px);\n  background-color: black;\n  position: relative;\n"])))),ir=u.c.div(Ze||(Ze=Object(vt.a)(["\n  // background-image: url(/wood-board.jpg);\n\n  // width: 700%;\n  // height: 10%;\n  // position: absolute;\n  // top: 10%;\n  // left: -350%;\n  // border-radius: 4px;\n"]))),ar=t(141),cr=t.n(ar),sr=u.c.div(Qe||(Qe=Object(vt.a)(["\n  background-image: url(/wood-t.jpg);\n\n  width: 100%;\n  height: 50%;\n  display: flex;\n  box-sizing: border-box;\n\n  &:nth-child(even) {\n    align-items: flex-end;\n  }\n\n  ","\n"])),(function(e){var n=e.quadrantNum;return[0,1].includes(n)&&"\n    flex-direction: row-reverse;\n  "})),lr=t(142),dr=t.n(lr),ur=t(53),br=t.n(ur),pr=x,jr=u.c.div($e||($e=Object(vt.a)(["\n  border-radius: 4px;\n  transition: background 0.7s ease-out;\n  box-sizing: border-box;\n  flex: 1;\n  height: 88%;\n  border-left: none;\n  position: relative;\n"]))),hr=u.c.div(en||(en=Object(vt.a)(["\n  clip-path: polygon(50% 0%, 0% 100%, 100% 100%);\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  transform: opacity 0.2s ease-out;\n  ",";\n\n  transition: background-color 0.5s ease-out;\n  ","\n"])),(function(e){return function(e){var n={};return e.even?n.backgroundColor="#533713a1":n.backgroundColor="#211b26a1",[0,1].includes(e.quadrantNum)&&(n.transform="rotate(180deg)"),n}(e.metadata)}),(function(e){return e.shouldHighlight&&"\n    background-color: #7db53c;\n  "})),mr=u.c.div(nn||(nn=Object(vt.a)(["\n  background-color: transparent;\n  width: 100%;\n  height: 100%;\n  position: relative;\n\n  display: flex;\n  flex-direction: column;\n\n  ","\n"])),(function(e){var n=e.quadrantNum;return[2,3].includes(n)?"\n    flex-direction: column-reverse;\n  ":""})),xr=u.c.div(tn||(tn=Object(vt.a)(["\n  width: ","px;\n  height: ","px;\n  background-color: black;\n  margin: 0px auto;\n  visibility: hidden;\n"])),(function(e){return e.theme.dimensions.width*pr}),(function(e){return e.theme.dimensions.width*pr})),Or=function(e){var n=e.pipNumber,t=e.quadrantNum,r=I().state,o=st().emitterService,i=bt().getHasPipMove,a=ae(),c=a.uiState,s=a.updateUiState,l=c.selectedChecker,d=c.isExecutingMove,u=(r||{}).positionTransitionsMap,b=dr()(null===r||void 0===r?void 0:r.pips,n),p=(null===b||void 0===b?void 0:b.count)||0,j=null!==b&&void 0!==b&&b.isEmpty?[]:te()(p).slice(0,5),h=p>5?p-5+1:void 0,m=1===p,x=i(b.pipId,b.player),O=function(e){return h?4===e:e===j.length-1},f=br()(u,{from:null===l||void 0===l?void 0:l.pipId}),g=X(b.pipId,f);return Object(E.jsxs)(jr,{id:"PIP_ID_".concat(n),onClick:function(){g&&function(){var e={from:null===l||void 0===l?void 0:l.pipId,to:b.pipId};s(Object(se.a)(Object(se.a)({},c),{},{selectedChecker:void 0,isExecutingMove:!0})),o.selectToMove(e)}()},ref:function(e){return U[n]=e},children:[Object(E.jsx)(hr,{shouldHighlight:g,metadata:{even:n%2===0,quadrantNum:t}}),Object(E.jsxs)(mr,{quadrantNum:t,children:[j.map((function(e){return Object(E.jsx)(Kt,{checkerNum:e,countIndicator:4===e?h:void 0,canBeSelected:O(e),canBeHit:m,hasMove:!d&&x&&O(e),pipNum:n,player:b.player},e)})),Object(E.jsx)(xr,{className:"position-handle"})]})]},n)},fr=function(e){var n=e.quadrantNum,t=e.pipsRange;return Object(E.jsx)(sr,{quadrantNum:n,children:cr()(t.from,t.to).map((function(e){return Object(E.jsx)(Or,{pipNumber:e,quadrantNum:n},e)}))})},gr=f,vr=Object(u.d)(rn||(rn=Object(vt.a)(["\n  0% {\n    opacity: 0;\n    height: 0px;\n  }\n  100% {\n    opacity: 1;\n    height: 100%;\n  }\n"]))),yr=u.c.div(on||(on=Object(vt.a)(["\n  // border: 1px solid white;\n  box-sizing: border-box;\n\n  position: absolute;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 100%;\n  height: ",";\n  top: ",";\n"])),(function(e){var n=e.theme;return"".concat(n.dimensions.height*gr,"px")}),(function(e){var n=e.theme;return"calc(50% - ".concat(n.dimensions.height*gr/2,"px)")})),wr=u.c.div(an||(an=Object(vt.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),Sr=u.c.button(cn||(cn=Object(vt.a)(["\n  outline: none;\n  border: none;\n\n  // border: 1px solid white;\n  background-image: linear-gradient(\n    to right,\n    #603813 0%,\n    #b29f94 51%,\n    #603813 100%\n  );\n\n  border-radius: 6px;\n  box-shadow: 5px -5px 13px black;\n  width: 35%;\n  height: 100%;\n  min-width: 140px;\n  max-width: 200px;\n  max-height: 35px;\n  font-size: 1rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  color: white;\n  font-weight: 700;\n  font-style: italic;\n  font-family: monospace;\n\n  ","\n\n  &:hover {\n    opacity: 0.9;\n  }\n"])),(function(){return Object(u.b)(sn||(sn=Object(vt.a)(["\n    animation: "," 0.5s ease-in;\n    animation-fill-mode: forwards;\n  "])),vr)})),Nr=u.c.div(ln||(ln=Object(vt.a)(["\n  // border: 1px solid white;\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),Er=(new Map).set(1,["MIDDLE"]).set(2,["NW","SE"]).set(3,["SW","MIDDLE","NE"]).set(4,["NW","NE","SE","SW"]).set(5,["NW","NE","SE","SW","MIDDLE"]).set(6,["NW","NE","E","SE","SW","W"]),kr=["FRONT","LEFT","BOTTOM","TOP","RIGHT","BACK"].map((function(e,n){return{face:e,points:Er.get(n+1)||[]}})),Rr=f,Ir=g,Tr=v,Cr=function(e){return e.height*Rr*Ir},Mr=function(e){return Cr(e)*Tr},Ur=function(e){return{width:Cr(e),height:Cr(e)}},_r=function(e){return(new Map).set(1,"rotateX(-10deg) rotateY(20deg)").set(2,"rotateX(-10deg) rotateY(110deg)").set(3,"rotateX(80deg) rotateY(0deg) rotateZ(-20deg)").set(4,"rotateX(-100deg) rotateY(0deg) rotateZ(20deg)").set(5,"rotateX(-10deg) rotateY(-70deg)").set(6,"rotateX(-190deg) rotateY(-20deg)").get(e)||""},Dr=u.c.div(un||(un=Object(vt.a)(["\n  // background-color: white;\n  perpsective: 300px;\n  perspective-origin: 50% 100%;\n  margin-right: 7%;\n  ",";\n"])),(function(e){var n=e.theme;return Ur(n.dimensions)})),Lr=u.c.div(bn||(bn=Object(vt.a)(["\n  position: relative;\n  transform-style: preserve-3d;\n  transform-origin: center center center;\n\n  ",";\n  ",";\n\n  ","\n"])),(function(e){var n=e.theme;return Ur(n.dimensions)}),(function(e){var n=e.dieNum;return void 0!==n&&function(e){return{transform:_r(e)}}(n)}),(function(e){var n=e.shouldAnimate,t=e.animationMetadata;return n&&t&&Object(u.b)(pn||(pn=Object(vt.a)(["\n      animation: ","\n        ","s linear;\n      animation-fill-mode: forwards;\n    "])),function(e){var n=100/e.length,t=A()(e,(function(e,t){return"\n    ".concat(t*n,"% { transform: ").concat(_r(e),";}\n  ")}));return Object(u.d)(dn||(dn=Object(vt.a)(["\n    ","\n"])),t.join(""))}(t.dieFaceSequence),t.duration)})),Ar=u.c.div(jn||(jn=Object(vt.a)(["\n  border: 1px solid black;\n  box-sizing: border-box;\n  position: absolute;\n\n  background-image: url(/dice.jpg);\n  border-radius: 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  backface-visibility: hidden;\n  user-select: none;\n\n  ","\n  ",";\n"])),(function(e){var n=e.theme;return Ur(n.dimensions)}),(function(e){var n=e.face,t=e.theme;return function(e,n){switch(e){case"FRONT":return{transform:"rotateY(0deg) translateZ(calc(".concat(n,"px / 2))")};case"BACK":return{transform:"rotateY(180deg) translateZ(calc(".concat(n,"px / 2))")};case"RIGHT":return{transform:"rotateY(90deg) translateZ(calc(".concat(n,"px / 2))")};case"LEFT":return{transform:"rotateY(-90deg) translateZ(calc(".concat(n,"px / 2))")};case"TOP":return{transform:"rotateX(90deg) translateZ(calc(".concat(n,"px / 2))")};case"BOTTOM":return{transform:"rotateX(-90deg) translateZ(calc(".concat(n,"px / 2))")}}}(n,Cr(t.dimensions))})),Pr=u.c.div(hn||(hn=Object(vt.a)(["\n  position: absolute;\n  background-color: white;\n  border-radius: 50%;\n\n  ",";\n\n  ","\n"])),(function(e){var n=e.theme;return{width:"".concat(Mr(n.dimensions),"px"),height:"".concat(Mr(n.dimensions),"px")}}),(function(e){var n=e.theme;return function(e,n){var t=n/2;switch(e){case"NW":return{left:"".concat(t,"px"),top:"".concat(t,"px")};case"NE":return{right:"".concat(t,"px"),top:"".concat(t,"px")};case"E":return{right:"".concat(t,"px"),top:"calc(50% - ".concat(t,"px)")};case"MIDDLE":return{left:"calc(50% - ".concat(t,"px)"),top:"calc(50% - ".concat(t,"px)")};case"SE":return{right:"".concat(t,"px"),bottom:"".concat(t,"px")};case"SW":return{left:"".concat(t,"px"),bottom:"".concat(t,"px")};case"W":return{left:"".concat(t,"px"),top:"calc(50% - ".concat(t,"px)")}}}(e.position,Mr(n.dimensions))})),Fr=function(e){var n=e.dieNum,t=e.player,r=e.nthDie,o=ae().animations,i=br()(o.rollDice,{nthDie:r,player:t}),a=void 0!==i,c=a&&i?{duration:i.duration,dieFaceSequence:i.dieFaceSequence}:void 0;return Object(E.jsx)(Dr,{children:Object(E.jsx)(Lr,{shouldAnimate:a,animationMetadata:c,dieNum:n,children:kr.map((function(e){return Object(E.jsx)(Ar,{face:e.face,children:e.points.map((function(e){return Object(E.jsx)(Pr,{position:e},e)}))},e.face)}))})})},Wr=function(e){var n=e.player,t=(0,bt().getDiceMetadata)(n);return Object(E.jsx)(Nr,{children:t.map((function(e){var t=e.dieNum,r=e.nthDie;return Object(E.jsx)(Fr,{player:n,dieNum:t,nthDie:r},r)}))})},Br=function(e){var n=e.player,t=ae(),r=t.uiState,o=t.updateUiState,i=st().emitterService,a=bt(),c=a.canInitRoll,s=a.canRoll,l=a.myPlayer,d=a.shouldShowDiceContainer,u=function(e){o(Object(se.a)(Object(se.a)({},r),{},{pressedRoll:!0})),e?i.pressInitRoll():i.pressRoll()};return Object(E.jsx)(yr,{children:Object(E.jsxs)(wr,{children:[n===l&&s()&&Object(E.jsx)(Sr,{onClick:function(){return u(!1)},children:"Roll"}),n===l&&c()&&Object(E.jsx)(Sr,{disabled:!c(),onClick:function(){return u(!0)},children:"Roll Initial"}),d(n)&&Object(E.jsx)(Wr,{player:n})]})})},qr=x,Hr=u.c.div(mn||(mn=Object(vt.a)(["\n  width: ","px;\n  height: ","px;\n  background-color: black;\n  margin: 0px auto;\n  visibility: hidden;\n"])),(function(e){return e.theme.dimensions.width*qr}),(function(e){return e.theme.dimensions.height*qr*1.75})),Gr=u.c.div(xn||(xn=Object(vt.a)(["\n  // border: 5px solid #3e210d;\n  box-sizing: border-box;\n  width: 90%;\n  margin: auto;\n  height: calc(50% - 50px);\n"]))),zr=function(e){var n=e.player,t=I().state,r=(st().emitterService,bt().getHasPipMove),o=t.hitSpace[n],i=te()(o).slice(0,3),a=o>3?o-3+1:void 0,c=r("hit-space",n),s=function(e){return a?2===e:e===i.length-1};return Object(E.jsxs)(Gr,{ref:function(e){return _[n]=e},children:[i.map((function(e){return Object(E.jsx)(Kt,{checkerNum:e,canBeSelected:s(e),hasMove:c,pipNum:"hit-space",player:n,countIndicator:2===e?a:void 0,isHitChecker:!0},e)})),Object(E.jsx)(Hr,{className:"position-handle"})]})},Vr=x,Jr=O,Yr=u.c.div(On||(On=Object(vt.a)(["\n  width: ","px;\n  height: ","px;\n  background-color: black;\n  margin: 0px auto;\n  visibility: hidden;\n"])),(function(e){return e.theme.dimensions.width*Vr}),(function(e){return e.theme.dimensions.height*Vr*1.75*Jr})),Xr=u.c.div(fn||(fn=Object(vt.a)(["\n  box-sizing: border-box;\n  width: 90%;\n  margin: auto;\n  height: calc(50% - 50px);\n  display: flex;\n  flex-direction: column;\n  align-items: left;\n  padding: 8px 8px;\n\n  // border-radius: 9px;\n  // box-shadow: -5px -3px 18px #4f4a46;\n  // background: linear-gradient(\n  //   0deg,\n  //   rgb(0 0 0 / 72%) 0%,\n  //   rgb(39 23 12 / 79%) 100%\n  // );\n  // border: 1px solid black;\n\n  // border-left: 1px solid #7a7575;\n  // border-bottom: 1px solid #7a7574;\n  border-radius: 9px;\n  box-shadow: 3px 6px 9px 4px rgb(15 12 23 / 81%) inset,\n    1px -1px 7px 0 rgb(38 20 20) inset;\n"]))),Kr=u.c.div(gn||(gn=Object(vt.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n\n  transition: background-color 0.3s ease-out;\n  // background-image: url(/wood-board.jpg);\n  // border-radius: 9px;\n  // box-shadow: -5px -3px 18px black;\n  // padding: 3px 0px;\n\n  border-radius: inherit;\n\n  ","\n  ","\n"])),(function(e){return e.shouldHighlight&&"\n    background-image: none;\n    background-color: #7db53c;\n    cursor: pointer;\n  "}),(function(e){return function(e){return"S"===e?{flexDirection:"column",borderTopLeftRadius:"0px",borderTopRightRadius:"0px"}:{flexDirection:"column-reverse",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px"}}(e.direction)})),Zr=function(e){var n=e.player,t=I().state,r=st().emitterService,o=ae(),i=o.uiState,a=o.updateUiState,c=t.bearOff[n],s=te()(c),l="W"===n?-1:24,d="W"===n?"S":"N",u=i.selectedChecker,b=(t||{}).positionTransitionsMap,p=br()(b,{from:null===u||void 0===u?void 0:u.pipId}),j=X(l,p);return Object(E.jsx)(Xr,{ref:function(e){return D[n]=e},children:Object(E.jsxs)(Kr,{direction:d,shouldHighlight:j,onClick:function(){return j&&function(){var e={from:null===u||void 0===u?void 0:u.pipId,to:l};a(Object(se.a)(Object(se.a)({},i),{},{selectedChecker:void 0})),r.selectToMove(e)}()},children:[s.map((function(e){return Object(E.jsx)(Kt,{checkerNum:e,canBeSelected:!1,hasMove:!1,pipNum:l,player:n,countIndicator:void 0,isBearOffChecker:!0},e)})),Object(E.jsx)(Yr,{className:"position-handle"})]})})},Qr=["title","titleId"];function $r(){return $r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},$r.apply(this,arguments)}function eo(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function no(e,n){var t=e.title,r=e.titleId,o=eo(e,Qr);return i.createElement("svg",$r({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,ref:n,"aria-labelledby":r},o),t?i.createElement("title",{id:r},t):null,vn||(vn=i.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),yn||(yn=i.createElement("path",{stroke:"currentColor",fill:"currentColor",d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})))}var to,ro,oo=i.forwardRef(no),io=(t.p,["title","titleId"]);function ao(){return ao=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ao.apply(this,arguments)}function co(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function so(e,n){var t=e.title,r=e.titleId,o=co(e,io);return i.createElement("svg",ao({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",ref:n,"aria-labelledby":r},o),t?i.createElement("title",{id:r},t):null,to||(to=i.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),ro||(ro=i.createElement("path",{stroke:"currentColor",fill:"currentColor",d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"})))}var lo,uo,bo,po,jo,ho,mo,xo,Oo,fo,go,vo,yo,wo,So,No,Eo,ko,Ro,Io=i.forwardRef(so),To=(t.p,u.c.div(lo||(lo=Object(vt.a)(["\n  box-shadow: -5px -3px 18px #4f4a46;\n  background-image: url(/wood-board.jpg);\n  width: 150%;\n  height: 50px;\n  border-radius: 10px;\n  display: flex;\n  z-index: 5;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  left: -25%;\n"])))),Co=u.c.div(uo||(uo=Object(vt.a)(["\n  border: 1px solid #64badd;\n  box-sizing: border-box;\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  margin-right: 2px;\n  box-shadow: -5px -3px 18px #4f4a46;\n  transition: background-color 0.3s ease-out;\n\n  cursor: pointer;\n  background-color: white;\n\n  ","\n\n  &:hover {\n    ","\n  }\n"])),(function(e){return e.isDisabled&&"\n    background-color: lightgray;\n    pointer-events: none;\n  "}),(function(e){return!e.isDisabled&&"\n    border: 1px solid orange;\n    background-color: #b5c9d0;\n    "})),Mo=Object(u.c)(oo)(bo||(bo=Object(vt.a)(["\n  color: ",";\n  ","\n"])),(function(e){return"true"===e.is_disabled?"gray":"#64badd"}),"\n  width: 30px;\n  padding: 4px;\n  height: 30px;\n"),Uo=Object(u.c)(Io)(po||(po=Object(vt.a)(["\n  color: ",";\n  ","\n"])),(function(e){return"true"===e.is_disabled?"gray":"#638def"}),"\n  width: 30px;\n  padding: 4px;\n  height: 30px;\n"),_o=function(){var e=ae(),n=e.uiState,t=e.updateUiState,r=st().emitterService,o=bt(),i=o.canConfirmMove,a=o.canUndo,c=!a(),s=!i();return Object(E.jsxs)(To,{children:[Object(E.jsx)(Co,{title:"Undo",isDisabled:c,onClick:function(){return document.querySelector("#play-undo-move").click(),t(Object(se.a)(Object(se.a)({},n),{},{pressedUndo:!0})),void r.undo()},children:Object(E.jsx)(Uo,{is_disabled:String(c)})}),Object(E.jsx)(Co,{title:"Confirm",isDisabled:s,onClick:function(){return document.querySelector("#play-confirm-move").click(),t(Object(se.a)(Object(se.a)({},n),{},{pressedConfirm:!0})),void r.confirmMove()},children:Object(E.jsx)(Mo,{is_disabled:String(s)})})]})},Do=["W","N","S","E","CENTER"],Lo=function(){var e=bt(),n=e.isMyTurn,t=e.hasWin;return Object(i.useEffect)((function(){t()&&document.querySelector("#play-win").click()}),[t()]),Object(E.jsxs)(nr,{children:[Object(E.jsxs)(er,{children:[Do.map((function(e){return Object(E.jsx)(tr,{side:e,children:"CENTER"===e&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(zr,{player:"B"}),n&&Object(E.jsx)(_o,{}),Object(E.jsx)(zr,{player:"W"})]})},e)})),Object(E.jsx)(or,{children:Object(E.jsx)(ir,{})}),Object(E.jsxs)(rr,{side:"left",children:[p.left.map((function(e){return Object(E.jsx)(fr,{quadrantNum:e.quadrantNum,pipsRange:e.pipsRange},e.quadrantNum)})),Object(E.jsx)(Br,{player:"W"})]}),Object(E.jsxs)(rr,{side:"right",children:[p.right.map((function(e){return Object(E.jsx)(fr,{quadrantNum:e.quadrantNum,pipsRange:e.pipsRange},e.quadrantNum)})),Object(E.jsx)(Br,{player:"B"})]})]}),Object(E.jsxs)(tr,{side:"BEAROFF",children:[Object(E.jsx)(Zr,{player:"W"}),Object(E.jsx)(Zr,{player:"B"})]})]})},Ao=u.c.div(mo||(mo=Object(vt.a)(["\n  box-sizing: border-box;\n  background-image: url(/wood-texture.png);\n  width: 100%;\n  height: 100vh;\n  margin: auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-top: 20px;\n"]))),Po=u.c.div(xo||(xo=Object(vt.a)(["\n  background-color: white;\n  border-radius: 4px;\n  // box-shadow: 19px -7px 19px black;\n"]))),Fo=u.c.div(Oo||(Oo=Object(vt.a)(["\n  border: 1px solid black;\n  background-image: url(/wood-board.jpg);\n  box-shadow: 9px 3px 19px black;\n  border-radius: 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 5%;\n  margin-bottom: 50px;\n  width: 80%;\n  color: white;\n"]))),Wo=u.c.div(fo||(fo=Object(vt.a)(["\n  border: 1px solid black;\n  background-image: url(/wood-board.jpg);\n  box-shadow: 9px 3px 19px black;\n  border-radius: 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 10%;\n  width: 71%;\n  margin-top: calc(50vh - 20%);\n  color: white;\n  font-size: 20px;\n  font-style: italic;\n"]))),Bo=u.c.div(go||(go=Object(vt.a)(["\n  background-color: transparent;\n  flex: 1;\n  color: black;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: white;\n  padding: 0px 10px;\n\n  & label {\n    font-size: 1.2vw;\n  }\n"]))),qo=u.c.div(vo||(vo=Object(vt.a)(["\n  flex: 2;\n  display: flex;\n  font-size: 1.7vw;\n  justify-content: center;\n  align-items: center;\n  color: orange;\n"]))),Ho=u.c.div(yo||(yo=Object(vt.a)(["\n  box-sizing: border-box;\n  border: 1px solid black;\n  border-bottom: none;\n  border-radius: 8px;\n  border-bottom-left-radius: 0px;\n  border-bottom-right-radius: 0px;\n  border-top-right-radius: 0px;\n  border-right: 0px;\n  box-shadow: -5px -3px 18px #4f4a46;\n  background-image: url(/wood-board.jpg);\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n\n  bottom: 0px;\n  right: 0px;\n  width: 40vw;\n  height: 15vh;\n  min-width: 300px;\n  min-height: 80px;\n  z-index: 9999;\n\n  transition: bottom 0.5s ease-out;\n\n  animation: "," 0.5s ease-out;\n  animation-direction: alternate;\n\n  h4 {\n    margin: 0px;\n    padding: 0px;\n    font-size: calc(8px + 0.8vw);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 35%;\n    border-bottom: 1px solid black;\n    font-style: italic;\n    font-weight: normal;\n    color: white;\n  }\n\n  .buttons {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex: 1;\n\n    & button {\n      width: 100px;\n      height: 30px;\n      &:nth-child(even) {\n        background-color: #fa4f4f;\n        margin-left: 20px;\n      }\n\n      &:nth-child(odd) {\n        background-color: #4f8c4f;\n        margin-left: 20px;\n      }\n    }\n  }\n"])),Object(u.d)(ho||(ho=Object(vt.a)(["\n  0% {\n    bottom: -15vh;\n  }\n  100% {\n    bottom: 0px;\n  }\n"])))),Go=u.c.div(wo||(wo=Object(vt.a)(["\n  background-image: url(/wood-t.jpg);\n  border-radius: 50%;\n  box-shadow: 3px 6px 9px 4px rgb(15 12 23 / 81%) inset;\n  width: 40px;\n  height: 40px;\n  margin-left: 40px;\n\n  animation: "," 0.7s infinite;\n  animation-direction: alternate;\n"])),Object(u.d)(jo||(jo=Object(vt.a)(["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),zo=u.c.div(So||(So=Object(vt.a)(["\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  width: 50px;\n  border: 3px solid #73AD21;\n"]))),Vo=function(){var e=Object(le.f)(),n=Object(i.useContext)(pt).inferLog,t=st(),r=t.networkState,o=t.roomsService,a=t.emitterService,c=bt(),s=c.canInviteForRematch,l=c.shouldShowRematchInvitation,d=o.setIsSendRematchInvitationLoading,u="STARTED"===r.status,b=r.status,p=r.hostUsername,j=r.guestUsername,h=r.role,m=r.roomId;return Object(i.useEffect)((function(){return void 0!==r.roomName&&(document.title="Game Room: ".concat(r.roomName)),function(){document.title="Backgammon"}}),[r.roomName]),Object(E.jsxs)(Ao,{children:[!u&&Object(E.jsxs)(Wo,{children:[Object(E.jsx)("span",{children:"Waiting for guest player to join "}),Object(E.jsx)(Go,{})]}),u&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(Fo,{children:[Object(E.jsxs)(Bo,{style:{borderRight:"1px solid #7e512f"},children:[Object(E.jsx)(Kt,{canBeSelected:!1,checkerNum:0,player:"W",hasMove:!1,canBeHit:!1,countIndicator:void 0}),Object(E.jsx)("label",{children:p})]}),Object(E.jsx)(qo,{children:n()}),Object(E.jsxs)(Bo,{style:{borderLeft:"1px solid #7e512f"},children:[Object(E.jsx)(Kt,{canBeSelected:!1,checkerNum:0,player:"B",hasMove:!1,canBeHit:!1,countIndicator:void 0}),Object(E.jsx)("label",{children:j})]})]}),Object(E.jsx)(Po,{children:Object(E.jsx)(Lo,{})}),s()&&Object(E.jsx)(Tt,{onClick:function(){d(!0),a.sendRematchInvitation()},children:"Invite for Rematch"}),l()&&Object(E.jsxs)(Ho,{children:[Object(E.jsx)("h4",{children:"Kiko invited you to play again"}),Object(E.jsxs)("div",{className:"buttons",children:[Object(E.jsx)(Tt,{onClick:function(){a.acceptRematchInvitation()},children:"Accept"}),Object(E.jsx)(Tt,{onClick:function(){a.declineRematchInvitation()},children:"Decline"})]})]})]}),Object(E.jsx)(zo,{children:Object(E.jsx)("img",{src:"/jump_out2.png",onClick:function(){console.log("=======1.onQuitFromGame function called.=========="),a.quitFromGame(b,m,h,p,j),e.push("/game")}})})]})},Jo=u.c.div(No||(No=Object(vt.a)([""]))),Yo=function(){return Object(E.jsx)(Jo,{children:Object(E.jsx)(Vo,{})})},Xo=t(14),Ko=t(37),Zo=u.c.div(Eo||(Eo=Object(vt.a)(["\n  background-image: url(/wood-texture.png);\n  height: calc(100vh - 56px);\n  padding: 10px;\n\n  display: flex;\n  justify-content: center;\n  // align-items: center;\n"]))),Qo=function(e){var n=e.history,t=Object(i.useState)(!1),r=Object(l.a)(t,2),o=r[0],a=r[1],c=Object(i.useState)(""),s=Object(l.a)(c,2),d=s[0],u=s[1],b=Ko.a().shape({username:Ko.b().required("This field is required!"),password:Ko.b().required("This field is required!")});return Object(E.jsx)(Zo,{children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)("div",{className:"card card-container",children:[Object(E.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),Object(E.jsx)(Xo.d,{initialValues:{username:"",password:""},validationSchema:b,onSubmit:function(e){var t=e.username,r=e.password;u(""),a(!0),ft.login(t,r).then((function(){n.push("/game"),window.location.reload()}),(function(e){var n=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();a(!1),u(n)}))},children:Object(E.jsxs)(Xo.c,{children:[Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{htmlFor:"username",children:"Username"}),Object(E.jsx)(Xo.b,{name:"username",type:"text",className:"form-control"}),Object(E.jsx)(Xo.a,{name:"username",component:"div",className:"alert alert-danger"})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{htmlFor:"password",children:"Password"}),Object(E.jsx)(Xo.b,{name:"password",type:"password",className:"form-control"}),Object(E.jsx)(Xo.a,{name:"password",component:"div",className:"alert alert-danger"})]}),Object(E.jsx)("div",{className:"form-group",children:Object(E.jsxs)("button",{type:"submit",className:"btn btn-primary btn-block",disabled:o,children:[o&&Object(E.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(E.jsx)("span",{children:"Login"})]})}),d&&Object(E.jsx)("div",{className:"form-group",children:Object(E.jsx)("div",{className:"alert alert-danger",role:"alert",children:d})})]})})]})})})},$o=u.c.div(ko||(ko=Object(vt.a)(["\n  background-image: url(/wood-texture.png);\n  height: 100%;\n  padding: 10px;\n\n  display: flex;\n  justify-content: center;\n  // align-items: center;\n"]))),ei=function(){var e=Object(le.f)(),n=Object(i.useState)(!1),t=Object(l.a)(n,2),r=t[0],o=t[1],a=Object(i.useState)(""),c=Object(l.a)(a,2),s=c[0],d=c[1],u=Object(i.useState)(!0),b=Object(l.a)(u,2),p=b[0],j=b[1],h=Object(i.useState)("United States of America"),m=Object(l.a)(h,2),x=m[0],O=m[1],f=Ko.a().shape({username:Ko.b().test("len","The username must be between 3 and 20 characters.",(function(e){return e&&e.toString().length>=3&&e.toString().length<=20})).required("This field is required!"),email:Ko.b().email("This is not a valid email.").required("This field is required!"),password:Ko.b().test("len","The password must be between 6 and 40 characters.",(function(e){return e&&e.toString().length>=6&&e.toString().length<=40})).required("This field is required!")});return Object(E.jsx)($o,{children:Object(E.jsx)("div",{className:"col-md-12",children:Object(E.jsxs)("div",{className:"card card-container",children:[Object(E.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),Object(E.jsx)(Xo.d,{initialValues:{username:"",email:"",password:"",country:"United States of America",state:"Nebraska",gender:"Male",birthday:""},validationSchema:f,onSubmit:function(n){var t=n.username,r=n.email,i=n.password,a=n.state,c=n.gender,s=n.birthday;console.log(a);var l=x,u="user";"backgammonAdmin"===t&&(u="admin",console.log(u)),ft.register(t,r,i,l,a,c,s,u).then((function(n){d(n.message),o(!0),e.push("/game"),window.location.reload()}),(function(e){var n=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();d(n),o(!1)}))},children:Object(E.jsxs)(Xo.c,{children:[!r&&Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{htmlFor:"username",children:" Username "}),Object(E.jsx)(Xo.b,{name:"username",type:"text",className:"form-control"}),Object(E.jsx)(Xo.a,{name:"username",component:"div",className:"alert alert-danger"})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{htmlFor:"email",children:" Email "}),Object(E.jsx)(Xo.b,{name:"email",type:"email",className:"form-control"}),Object(E.jsx)(Xo.a,{name:"email",component:"div",className:"alert alert-danger"})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{htmlFor:"password",children:" Password "}),Object(E.jsx)(Xo.b,{name:"password",type:"password",className:"form-control"}),Object(E.jsx)(Xo.a,{name:"password",component:"div",className:"alert alert-danger"})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{htmlFor:"country",children:" Country "}),Object(E.jsxs)(Xo.b,{name:"country",as:"select",className:"form-control",value:x,onChange:function(e){console.log(e.currentTarget.value),O(e.currentTarget.value),"United States of America"===e.currentTarget.value?j(!0):j(!1)},children:[Object(E.jsx)("option",{value:"United States of America",children:"United States of America"}),Object(E.jsx)("option",{value:"United Kingdom",children:"United Kingdom"}),Object(E.jsx)("option",{value:"China",children:"China"}),Object(E.jsx)("option",{value:"Russia",children:"Russia"}),Object(E.jsx)("option",{value:"France",children:"France"}),Object(E.jsx)("option",{value:"Germany",children:"Germany"})]}),Object(E.jsx)(Xo.a,{name:"country",component:"div",className:"alert alert-danger"})]}),p?Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{htmlFor:"state",children:" State "}),Object(E.jsxs)(Xo.b,{name:"state",as:"select",className:"form-control",children:[Object(E.jsx)("option",{value:"Nebraska",children:"Nebraska"}),Object(E.jsx)("option",{value:"Florida",children:"Florida"}),Object(E.jsx)("option",{value:"Washington",children:"Washington"}),Object(E.jsx)("option",{value:"Kansas",children:"Kansas"})]}),Object(E.jsx)(Xo.a,{name:"country",component:"div",className:"alert alert-danger"})]}):null,Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{htmlFor:"gender",children:" Gender "}),Object(E.jsxs)(Xo.b,{as:"select",name:"gender",className:"form-control",children:[Object(E.jsx)("option",{value:"male",children:"Male"}),Object(E.jsx)("option",{value:"female",children:"Female"})]}),Object(E.jsx)(Xo.a,{name:"gender",component:"div",className:"alert alert-danger"})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{htmlFor:"birthday",children:" Birthday "}),Object(E.jsx)(Xo.b,{name:"birthday",type:"date",className:"form-control"}),Object(E.jsx)(Xo.a,{name:"birthday",component:"div",className:"alert alert-danger"})]}),Object(E.jsx)("div",{className:"form-group",children:Object(E.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",children:"Sign Up"})})]}),s&&Object(E.jsx)("div",{className:"form-group",children:Object(E.jsx)("div",{className:r?"alert alert-success":"alert alert-danger",role:"alert",children:s})})]})})]})})})};t(293);var ni=u.c.div(Ro||(Ro=Object(vt.a)(["\n  background-image: url(/wood-texture.png);\n\n  height: 100%;\n  padding: 10px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),ti=function(){var e=Object(i.useState)(),n=Object(l.a)(e,2);return n[0],n[1],Object(E.jsx)(ni,{children:Object(E.jsx)("header",{className:"jumbotron",children:Object(E.jsx)("h1",{className:"content contentColor",children:"WELCOME TO BACKGAMMON"})})})},ri=function(){var e=ft.getCurrentUser();return Object(E.jsxs)("div",{className:"container",children:[Object(E.jsx)("header",{className:"jumbotron",children:Object(E.jsxs)("h3",{children:[Object(E.jsx)("strong",{children:e.username})," Profile"]})}),Object(E.jsxs)("p",{children:[Object(E.jsx)("strong",{children:"Token:"})," ",e.accessToken.substring(0,20)," ..."," ",e.accessToken.substr(e.accessToken.length-20)]}),Object(E.jsxs)("p",{children:[Object(E.jsx)("strong",{children:"Id:"})," ",e.id]}),Object(E.jsxs)("p",{children:[Object(E.jsx)("strong",{children:"Email:"})," ",e.email]}),Object(E.jsx)("strong",{children:"Authority:"}),Object(E.jsx)("ul",{children:e.role})]})},oi=t(10),ii=t(11);function ai(){try{var e=localStorage.getItem("user");if("string"!==typeof e)throw new Error("User info not found");var n=JSON.parse(e).accessToken;if(!("string"===typeof n&&n.length>=1))throw new Error("Invalid user access token");return{"x-access-token":n}}catch(t){return{}}}var ci,si=new(function(){function e(){Object(ht.a)(this,e)}return Object(mt.a)(e,[{key:"getPublicContent",value:function(){return Ot.a.get(r+"all")}},{key:"getUserBoard",value:function(){return Ot.a.get(r+"user",{headers:ai()})}},{key:"getAdminBoard",value:function(){return Ot.a.get(r+"admin",{headers:ai()})}},{key:"getAllUsers",value:function(){return Ot.a.get(r+"users",{headers:ai()})}},{key:"deleteUser",value:function(e){var n={deleteItem:e};return Ot.a.post(r+"delete",n,{headers:ai()})}}]),e}()),li=function(e){Object(oi.a)(t,e);var n=Object(ii.a)(t);function t(e){var r;return Object(ht.a)(this,t),(r=n.call(this,e)).state={content:""},r}return Object(mt.a)(t,[{key:"componentDidMount",value:function(){var e=this;si.getUserBoard().then((function(n){e.setState({content:n.data})}),(function(n){e.setState({content:n.response&&n.response.data&&n.response.data.message||n.message||n.toString()}),n.response&&401===n.response.status&&gt.dispatch("logout")}))}},{key:"render",value:function(){return Object(E.jsx)("div",{className:"container",children:Object(E.jsx)("header",{className:"jumbotron",children:Object(E.jsx)("h3",{children:this.state.content})})})}}]),t}(i.Component),di=u.c.div(ci||(ci=Object(vt.a)(["\n  background-image: url(wood-t.jpg);\n  height: 100%;\n  padding: 1rem;\n\n  table {\n    border-spacing: 0;\n    border: 1px solid black;\n    margin: auto;\n    tr {\n      :last-child {\n        td {\n          border-bottom: 0;\n        }\n      }\n    }\n\n    th,\n    td {\n      margin: 0;\n      padding: 0.5rem;\n      text-align: center;\n      border-bottom: 1px solid black;\n      border-right: 1px solid black;\n\n      :last-child {\n        border-right: 0;\n      }\n    }\n    tr:hover {background-color: #D6EEEE;}\n\n  }\n"])));var ui,bi=function(){var e=st(),n=e.emitterService,t=e.roomsService.allRooms;Object(i.useEffect)((function(){n.getAllRooms()}),[]);var r=function(e){console.log(e.currentTarget.value),n.deleteRoom(e.currentTarget.value)};return Object(E.jsx)(di,{children:Object(E.jsxs)("table",{children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"Room No"}),Object(E.jsx)("th",{children:"Room Name"}),Object(E.jsx)("th",{children:"Live Users"}),Object(E.jsx)("th",{children:"First Player"}),Object(E.jsx)("th",{children:"Second Player"}),Object(E.jsx)("th",{children:"First Player Country"}),Object(E.jsx)("th",{children:"Second Player Country"}),Object(E.jsx)("th",{children:"Delete"})]})}),Object(E.jsx)("tbody",{children:t.map((function(e,n){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:++n}),Object(E.jsx)("td",{children:e.name}),Object(E.jsx)("td",{children:(o=n,t[o-1].hostUsername?t[o-1].hostUsername&&!t[o-1].guestUsername?1:2:0)}),Object(E.jsx)("td",{children:e.hostUsername}),Object(E.jsx)("td",{children:e.guestUsername}),Object(E.jsx)("td",{children:e.hostCountry}),Object(E.jsx)("td",{children:e.guestCountry}),Object(E.jsx)("td",{children:Object(E.jsx)("button",{value:e.id,onClick:r,children:"Delete"})})]},n);var o}))})]})})},pi=u.c.div(ui||(ui=Object(vt.a)(["\n  background-image: url(wood-t.jpg);\n  height: 100%;\n  padding: 1rem;\n\n  table {\n    border-spacing: 0;\n    border: 1px solid black;\n    margin: auto;\n    tr {\n      :last-child {\n        td {\n          border-bottom: 0;\n        }\n      }\n    }\n\n    th,\n    td {\n      margin: 0;\n      padding: 0.5rem;\n      text-align: center;\n      border-bottom: 1px solid black;\n      border-right: 1px solid black;\n\n      :last-child {\n        border-right: 0;\n      }\n    }\n    tr:hover {background-color: #D6EEEE;}\n\n  }\n"])));var ji=[{id:"dashboard",path:"/",component:ti,isExact:!0},{id:"login",path:"/login",component:Qo,isExact:!0},{id:"register",path:"/register",component:ei,isExact:!0},{id:"profile",path:"/profile",component:ri,isExact:!0},{id:"boardUser",path:"/boardUser",component:li,isExact:!0},{id:"allRooms",path:"/roomStatus",component:bi,isExact:!0},{id:"allUsers",path:"/users",component:function(){var e=Object(i.useState)([]),n=Object(l.a)(e,2),t=n[0],r=n[1],o=Object(i.useState)(""),a=Object(l.a)(o,2),c=(a[0],a[1]);Object(i.useEffect)((function(){si.getAllUsers().then((function(e){console.log(e.data),r(e.data)}),(function(e){c(e.response&&e.response.data&&e.response.data.message||e.message||e.toString()),e.response&&401===e.response.status&&gt.dispatch("logout")}))}),[]);var s=function(e){si.deleteUser(e.currentTarget.value).then((function(e){console.log(e.data),r(e.data)}),(function(e){c(e.response&&e.response.data&&e.response.data.message||e.message||e.toString()),e.response&&401===e.response.status&&gt.dispatch("logout")})),console.log(e.currentTarget.value)};return Object(E.jsx)(pi,{children:Object(E.jsxs)("table",{children:[Object(E.jsx)("thead",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{children:"No"}),Object(E.jsx)("th",{children:"Name"}),Object(E.jsx)("th",{children:"Email"}),Object(E.jsx)("th",{children:"Country"}),Object(E.jsx)("th",{children:"Gender"}),Object(E.jsx)("th",{children:"Birthday"}),Object(E.jsx)("th",{children:"Win Times"}),Object(E.jsx)("th",{children:"Loss Times"}),Object(E.jsx)("th",{children:"Created Date"}),Object(E.jsx)("th",{children:"Last Login Date"}),Object(E.jsx)("th",{children:"Delete"})]})}),Object(E.jsx)("tbody",{children:t.map((function(e,n){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:++n}),Object(E.jsx)("td",{children:e.username}),Object(E.jsx)("td",{children:e.email}),e.state?Object(E.jsxs)("td",{children:[e.country,"/",e.state]}):Object(E.jsx)("td",{children:e.country}),Object(E.jsx)("td",{children:e.gender}),Object(E.jsx)("td",{children:e.birthday}),Object(E.jsx)("td",{children:e.win_time}),Object(E.jsx)("td",{children:e.loss_time}),Object(E.jsx)("td",{children:e.created_date}),Object(E.jsx)("td",{children:e.last_login_date}),Object(E.jsx)("td",{children:Object(E.jsx)("button",{value:e.email,onClick:s,children:"Delete"})})]},n)}))})]})})},isExact:!0},{id:"lobby",path:"/game",component:zt,isExact:!0},{id:"lobby",path:"/game/create",component:zt,isExact:!0},{id:"lobby",path:"/game/join",component:zt,isExact:!0},{id:"lobby",path:"/about",component:zt,isExact:!0},{id:"playground",path:"/game/:id",component:Yo,isExact:!0}],hi=function(){var e=st().networkState,n=Object(i.useState)(!1),t=Object(l.a)(n,2),r=t[0],o=t[1],a=Object(i.useState)(),c=Object(l.a)(a,2),s=c[0],d=c[1],u=Object(i.useState)(!1),p=Object(l.a)(u,2),j=p[0],h=p[1],m=Object(le.f)();function x(){ft.logout(),d(void 0),h(!1),m.push("/login")}return Object(i.useEffect)((function(){var e=ft.getCurrentUser();if(e)return d(e),h("ROLE_ADMIN"==e.role),gt.on("logout",x),function(){gt.remove("logout",x)}}),[]),Object(i.useEffect)((function(){"STARTED"===e.status||"WAITING_FOR_GUEST"===e.status?o(!0):o(!1)}),[e]),Object(E.jsxs)("div",{className:"d-flex flex-column h-100",children:[!r&&Object(E.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:[Object(E.jsx)(b.b,{to:"/",className:"navbar-brand",children:"Backgammon"}),Object(E.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(E.jsx)("li",{className:"nav-item",children:Object(E.jsx)(b.b,{to:"/game",className:"nav-link",children:"Lobby"})}),j&&Object(E.jsx)("li",{className:"nav-item",children:Object(E.jsx)(b.b,{to:"/roomStatus",className:"nav-link",children:"Room Status"})}),j&&Object(E.jsx)("li",{className:"nav-item",children:Object(E.jsx)(b.b,{to:"/users",className:"nav-link",children:"Users Info"})})]}),s?Object(E.jsx)("div",{className:"navbar-nav ms-auto",children:Object(E.jsx)("li",{className:"nav-item",children:Object(E.jsx)("a",{className:"nav-link",onClick:x,children:"LogOut"})})}):Object(E.jsxs)("div",{className:"navbar-nav ms-auto",children:[Object(E.jsx)("li",{className:"nav-item",children:Object(E.jsx)(b.b,{to:"/login",className:"nav-link",children:"Login"})}),Object(E.jsx)("li",{className:"nav-item",children:Object(E.jsx)(b.b,{to:"/register",className:"nav-link",children:"Sign Up"})})]})]}),Object(E.jsx)("div",{className:"flex-fill",children:Object(E.jsx)(le.c,{children:ji.map((function(e){return Object(E.jsx)(le.a,{exact:e.isExact,path:e.path,component:e.component},e.id)}))})})]})},mi=function(){var e=Object(i.useState)(!1),n=Object(l.a)(e,2),t=(n[0],n[1],Object(i.useState)()),r=Object(l.a)(t,2),o=(r[0],r[1]),a=Object(i.useState)(!1),c=Object(l.a)(a,2),s=(c[0],c[1]);function d(){ft.logout(),o(void 0),s(!1)}return Object(i.useEffect)((function(){var e=ft.getCurrentUser();if(e)return o(e),s("ROLE_ADMIN"==e.role),gt.on("logout",d),function(){gt.remove("logout",d)}}),[]),Object(E.jsx)(b.a,{children:Object(E.jsx)(R,{children:Object(E.jsx)(ie,{children:Object(E.jsx)(ct,{children:Object(E.jsx)(ut,{children:Object(E.jsx)(jt,{children:Object(E.jsx)(hi,{})})})})})})})},xi=function(){var e=Object(i.useState)(window.innerWidth),n=Object(l.a)(e,2),t=n[0],r=n[1],o=Object(i.useState)(window.innerHeight),a=Object(l.a)(o,2),c=a[0],s=a[1],b=Object(d.a)("/sound-effects/move.mp3"),p=Object(l.a)(b,1)[0],j=Object(d.a)("/sound-effects/hit.wav"),h=Object(l.a)(j,1)[0],m=Object(d.a)("/sound-effects/dice.wav"),x=Object(l.a)(m,1)[0],O=Object(d.a)("/sound-effects/select-checker.wav"),f=Object(l.a)(O,1)[0],g=Object(d.a)("/sound-effects/confirm-move.wav"),v=Object(l.a)(g,1)[0],y=Object(d.a)("/sound-effects/undo.wav"),w=Object(l.a)(y,1)[0],S=Object(d.a)("/sound-effects/win.wav"),N=Object(l.a)(S,1)[0];Object(i.useEffect)((function(){var e=function(){var e=window,n=e.innerWidth,t=e.innerHeight;r(n),s(t)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var k={dimensions:{width:Math.min(1e3,.8*t),height:Math.min(1e3,.8*c)}};return Object(E.jsx)("div",{style:{height:"100vh"},children:Object(E.jsxs)(u.a,{theme:k,children:[Object(E.jsx)(mi,{}),Object(E.jsx)("button",{style:{display:"none"},onClick:function(){return p()},id:"play-move",children:"play"}),Object(E.jsx)("button",{style:{display:"none"},onClick:function(){return h()},id:"play-hit",children:"hit"}),Object(E.jsx)("button",{style:{display:"none"},onClick:function(){return x()},id:"play-dice-throw",children:"Dice Throw"}),Object(E.jsx)("button",{style:{display:"none"},onClick:function(){return f()},id:"play-select-checker",children:"Select Checker"}),Object(E.jsx)("button",{style:{display:"none"},onClick:function(){return v()},id:"play-confirm-move",children:"Confirm Move"}),Object(E.jsx)("button",{style:{display:"none"},onClick:function(){return w()},id:"play-undo-move",children:"Undo Move"}),Object(E.jsx)("button",{style:{display:"none"},onClick:function(){return N()},id:"play-win",children:"Win"})]})})},Oi=function(e){e&&e instanceof Function&&t.e(4).then(t.bind(null,296)).then((function(n){var t=n.getCLS,r=n.getFID,o=n.getFCP,i=n.getLCP,a=n.getTTFB;t(e),r(e),o(e),i(e),a(e)}))};s.a.render(Object(E.jsx)(a.a.StrictMode,{children:Object(E.jsx)(xi,{})}),document.getElementById("root")),Oi()}},[[294,1,2]]]);
//# sourceMappingURL=main.141edba4.chunk.js.map