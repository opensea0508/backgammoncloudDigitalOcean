(this["webpackJsonpbackgammon-frontend"]=this["webpackJsonpbackgammon-frontend"]||[]).push([[0],{153:function(e,n,t){},154:function(e,n,t){},293:function(e,n,t){},294:function(e,n,t){"use strict";t.r(n);var r,o,i,a,c,s,d,l,u,b,p,h,j,m,x,f,O,g,v,y,w,S,N,k,E,R,I,T,C,M,D,_,U,L,A,P,F,B,W,q,H,z,G,V,J,Y,X,K,Z,Q,$,ee,ne,te,re,oe,ie,ae,ce,se,de,le,ue,be,pe=t(1),he=t.n(pe),je=t(134),me=t.n(je),xe=(t(153),t(4)),fe=t(43),Oe=t(2),ge=(t(154),t(155),t(22)),ve={left:[{quadrantNum:1,pipsRange:{from:6,to:12}},{quadrantNum:2,pipsRange:{from:12,to:18}}],right:[{quadrantNum:0,pipsRange:{from:0,to:6}},{quadrantNum:3,pipsRange:{from:18,to:24}}]},ye=.03,we=.07,Se=.09,Ne=.05,ke=.25,Ee=.1,Re=.6,Ie=.19,Te="B",Ce="W",Me={turn:"W",diceRolled:[4,3],plyRoll:[4,3],positionTransitionsMap:[],stateMachine:"PENDING_ROLL",initDiceRolled:{W:0,B:0},hitSpace:{W:0,B:0},bearOff:{W:3,B:0},pips:[{isEmpty:!1,player:Te,count:2,pipId:0},{isEmpty:!0,player:void 0,count:0,pipId:1},{isEmpty:!0,player:void 0,count:0,pipId:2},{isEmpty:!0,player:void 0,count:0,pipId:3},{isEmpty:!0,player:void 0,count:0,pipId:4},{isEmpty:!1,player:Ce,count:5,pipId:5},{isEmpty:!0,player:void 0,count:0,pipId:6},{isEmpty:!1,player:Ce,count:3,pipId:7},{isEmpty:!0,player:void 0,count:0,pipId:8},{isEmpty:!0,player:void 0,count:0,pipId:9},{isEmpty:!0,player:void 0,count:0,pipId:10},{isEmpty:!1,player:Te,count:5,pipId:11},{isEmpty:!1,player:Ce,count:5,pipId:12},{isEmpty:!0,player:void 0,count:0,pipId:13},{isEmpty:!0,player:void 0,count:0,pipId:14},{isEmpty:!0,player:void 0,count:0,pipId:15},{isEmpty:!1,player:Te,count:3,pipId:16},{isEmpty:!0,player:void 0,count:0,pipId:17},{isEmpty:!1,player:Te,count:5,pipId:18},{isEmpty:!0,player:void 0,count:0,pipId:19},{isEmpty:!0,player:void 0,count:0,pipId:20},{isEmpty:!0,player:void 0,count:0,pipId:21},{isEmpty:!0,player:void 0,count:0,pipId:22},{isEmpty:!1,player:Ce,count:2,pipId:23}]},De=.4,_e=t(0),Ue=Object(pe.createContext)({}),Le=function(e){var n=e.children,t=Object(pe.useState)(Me),r=Object(xe.a)(t,2),o=r[0],i=r[1],a=Object(pe.useState)([]),c=Object(xe.a)(a,2),s=c[0],d=c[1];return Object(_e.jsx)(Ue.Provider,{value:{state:o,consequences:s,updateGameState:i,updateConsequences:d},children:n})},Ae=function(){return Object(pe.useContext)(Ue)},Pe=t(18),Fe=t(15),Be=t(27),We=[],qe={W:null,B:null},He={W:null,B:null},ze=t(51),Ge=t.n(ze),Ve=t(135),Je=t.n(Ve),Ye=function(e){return"W"===e?"B":"W"},Xe=function(e){return e.find((function(e){return null!==e}))},Ke=function(){return"_"+Math.random().toString(36).substr(2,9)},Ze=function(e){return new Promise((function(n){return setTimeout(n,e)}))},Qe=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e.getBoundingClientRect(),o=null===n||void 0===n?void 0:n.getBoundingClientRect();if(void 0!==(null===r||void 0===r?void 0:r.left)&&void 0!==r.top&&void 0!==(null===o||void 0===o?void 0:o.left)&&void 0!==o.top)return{left:o.left-r.left,top:o.top-r.top+t}},$e=t(136),en=t.n($e),nn=function(e){return"W"===e},tn=function(e){return nn(e)?-1:24},rn=function(e,n){return void 0!==n&&en()(n.to,(function(n){return n===e}))},on=ke,an=function(){var e=Object(pe.useState)([]),n=Object(xe.a)(e,2),t=n[0],r=n[1],o=[],i={commit:function(){var e=Object(Be.a)(Object(Pe.a)().mark((function e(n,t,i){var a,c,s,d,l,u,b,p,h,j,m=arguments;return Object(Pe.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!(m.length>3&&void 0!==m[3])||m[3],c=Ke(),s="hit-space"===n,d=t===tn(i),l="hit-space"===n?qe[i]:We[n],u="hit-space"===t?qe[i]:d?He[i]:We[t],b=l.querySelector(".checker.can-be-selected"),p=Xe([u.querySelector(".can-be-hit.".concat(Ye(i))),u.querySelector(".position-handle")]),h=d&&!nn(i)?100*-on:0,void 0!==(j=Qe(b,p,h))){e.next=12;break}return e.abrupt("return",c);case 12:return o=[].concat(Object(Fe.a)(o),[{animationUniqueId:c,left:j.left,top:j.top,duration:De,pipNum:s?void 0:"number"===typeof n?n:void 0,isHitSpaceMove:s,isBearOffMove:d,player:i}]),r(o),e.next=16,Ze(400);case 16:return a&&(o=o.filter((function(e){return e.animationUniqueId!==c})),r(o)),e.abrupt("return",c);case 18:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),dispose:function(){var e=Object(Be.a)(Object(Pe.a)().mark((function e(n){return Object(Pe.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=o.filter((function(e){return e.animationUniqueId!==n})),r(o);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()};return{animationHandler:i,animationsMetadata:t}},cn=function(e){var n=e.animationService,t=function(){var e=Object(Be.a)(Object(Pe.a)().mark((function e(t){var r,o,i,a;return Object(Pe.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.from,o=t.to,i=t.player,!t.isHit){e.next=13;break}return document.querySelector("#play-move").click(),e.next=5,n.moveChecker.commit(r,o,i,!1);case 5:return a=e.sent,document.querySelector("#play-hit").click(),e.next=9,n.moveChecker.commit(o,"hit-space",Ye(i));case 9:return e.next=11,n.moveChecker.dispose(a);case 11:e.next=16;break;case 13:return document.querySelector("#play-move").click(),e.next=16,n.moveChecker.commit(r,o,i);case 16:return e.abrupt("return");case 17:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return{handleMoveAnimation:t}},sn=t(95),dn=t.n(sn),ln=t(39),un=t.n(ln),bn=function(){var e=Object(pe.useState)([]),n=Object(xe.a)(e,2),t=n[0],r=n[1],o=[],i={commit:function(){var e=Object(Be.a)(Object(Pe.a)().mark((function e(n,t,i){var a,c,s,d=arguments;return Object(Pe.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!(d.length>3&&void 0!==d[3])||d[3],c=Ke(),s=[1].concat(un()(dn()(13,17)).map((function(){return dn()(1,6)}))).concat(i),o=[].concat(Object(Fe.a)(o),[{player:n,animationUniqueId:c,duration:1,dieFaceSequence:s,nthDie:t}]),r(o),document.querySelector("#play-dice-throw").click(),e.next=9,Ze(1e3);case 9:return a&&(o=o.filter((function(e){return e.animationUniqueId!==c})),r(o)),e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),dispose:function(){var e=Object(Be.a)(Object(Pe.a)().mark((function e(n){return Object(Pe.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=o.filter((function(e){return e.animationUniqueId!==n})),r(o);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()};return{animationHandler:i,animationsMetadata:t}},pn=Object(pe.createContext)({}),hn=function(e){var n=e.children,t=Object(pe.useState)({selectedChecker:void 0,pressedRoll:!1,pressedUndo:!1,pressedConfirm:!1,isExecutingMove:!1,isExecutingRoll:{W:!1,B:!1}}),r=Object(xe.a)(t,2),o=r[0],i=r[1],a=an(),c=a.animationHandler,s=a.animationsMetadata,d=bn(),l=d.animationHandler,u=d.animationsMetadata,b={moveChecker:c,rollDice:l},p=cn({animationService:b}).handleMoveAnimation;return Object(_e.jsx)(pn.Provider,{value:{uiState:o,updateUiState:i,handleMoveAnimation:p,animationService:b,animations:{moveChecker:s,rollDice:u}},children:n})},jn=function(){return Object(pe.useContext)(pn)},mn=t(34),xn=t(5),fn=t(16),On=t(148),gn=Object(On.a)("ws://backgammoncloud.herokuapp.com"),vn=gn,yn="ALL_USERS_FETCHED",wn="ALL_ROOMS_FETCHED",Sn="ROOMS_FETCHED",Nn="ROOM_CREATED",kn="ROOM_JOINED",En="GAME_STARTED",Rn="SYNC_STATE",In="EXECUTE_MOVE",Tn="EXECUTE_ROLL",Cn="ERROR_OCCURRED",Mn="SYNC_NETWORK_STATUS",Dn="REMATCH_INVITATION_SENT",_n="REMATCH_INVITATION_DECLINED",Un="PLAYER_OUT",Ln="NO_PLAYER",An="GET_ALL_USERS",Pn="GET_ALL_ROOMS",Fn="GET_ROOMS",Bn="CREATE_ROOM",Wn="JOIN_ROOM",qn="INIT_ROLL",Hn="ROLL",zn="MOVE",Gn="UNDO_MOVE",Vn="CONFIRM_MOVE",Jn="INVITE_FOR_REMATCH",Yn="ACCEPT_REMATCH",Xn="DECLINE_REMATCH",Kn="QUIT_FROM_GAME",Zn="DELETE_ROOM",Qn=["PASSWORD_NOT_VALID","PASSWORD_NOT_PRESENT"],$n=function(e){var n=Ae(),t=n.state,r=n.consequences,o=n.updateGameState,i=n.updateConsequences,a=jn(),c=a.uiState,s=a.updateUiState,d=a.handleMoveAnimation,l=a.animationService,u=Object(fn.f)(),b=e.networkState,p=e.updateNetworkState,h=e.roomsService,j=Object(xn.a)({},b),m=Object(xn.a)({},t),x=Object(Fe.a)(r),f=Object(xn.a)({},c),O=function(e){m=Object(xn.a)({},e),o(m)},g=function(e){x=Object(Fe.a)(e),i(x)},v=function(e){j=Object(xn.a)({},e),p(j)},y=function(e){f=Object(xn.a)({},e),s(f)};return Object(pe.useEffect)((function(){vn.on(Sn,(function(e){Ze(200).then((function(){h.setRooms(e.rooms),h.setIsLoading(!1)}))})),vn.on(wn,(function(e){console.log("all_rooms_fetched"),Ze(200).then((function(){h.setAllRooms(e.allRooms),h.setIsLoadingAll(!1),console.log("all rooms fetched"),console.log(e.allRooms)}))})),vn.on(yn,(function(e){Ze(200).then((function(){h.setAllUsers(e.allUsers),h.setIsLoadingAll(!1)}))})),vn.on(Nn,(function(e){var n=e.roomId,t=e.roomName,r=e.role,o=e.hostUsername,i=e.status;console.log(Nn,e),j=Object(xn.a)(Object(xn.a)({},j),{},{status:i,roomId:n,roomName:t,role:r,hostUsername:o}),v(j),Ze(500).then((function(){h.initCreateForm(),h.setIsCreatingRoom(!1)}))})),vn.on(Mn,(function(e){console.log(Mn,e);var n=e.roomId,t=e.role,r=e.hostUsername,o=e.guestUsername,i=e.status;j=Object(xn.a)(Object(xn.a)({},j),{},{status:i,roomId:n,role:t,hostUsername:r,guestUsername:o}),v(j)})),vn.on(kn,(function(e){console.log(kn,e);var n=e.roomId,t=e.roomName,r=e.role,o=e.hostUsername,i=e.guestUsername,a=e.status;console.log("joining"),j=Object(xn.a)(Object(xn.a)({},j),{},{roomId:n,roomName:t,role:r,hostUsername:o,guestUsername:i,status:a}),v(j),h.setError(void 0),u.push("/game/".concat(n))})),vn.on(En,(function(e){console.log(En,e);var n=e.initState;O(Object(xn.a)({},n)),h.setIsSendRematchInvitationLoading(!1),h.setHasPendingRematchInvitation(!1),j=Object(xn.a)(Object(xn.a)({},j),{},{status:"STARTED"}),v(j)})),vn.on(Rn,(function(e){console.log(Rn,e);var n=e.state,t=e.finalState;O(Object(xn.a)({},n)),t&&Ze(1500).then((function(){O(Object(xn.a)({},t))})),v(Object(xn.a)(Object(xn.a)({},j),{},{status:"STARTED"}));y(Object(xn.a)(Object(xn.a)({},f),{pressedRoll:!1,pressedUndo:!1,pressedConfirm:!1}))})),vn.on(Tn,function(){var e=Object(Be.a)(Object(Pe.a)().mark((function e(n){var t,r,o,i,a;return Object(Pe.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(Tn,n),t=n.diceRolledMetadata,r=n.consequences,o=n.state,i=Ge()(t,(function(e){var n=e.player,t=e.nthDie,r=e.die;return l.rollDice.commit(n,t,r)})),a=t[0].player,y(Object(xn.a)(Object(xn.a)({},f),{},{isExecutingRoll:Object(xn.a)(Object(xn.a)({},f.isExecutingRoll),{},Object(mn.a)({},a,!0))})),e.next=7,Promise.all(i);case 7:if(!(r.length>0)){e.next=12;break}return g(r),e.next=11,Ze(1500);case 11:g([]);case 12:O(o),y(Object(xn.a)(Object(xn.a)({},f),{},{isExecutingRoll:Object(xn.a)(Object(xn.a)({},f.isExecutingRoll),{},Object(mn.a)({},a,!1))}));case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),vn.on(qn,(function(e){console.log(qn,e);var n=e.state;O(Object(xn.a)({},n)),j=Object(xn.a)(Object(xn.a)({},j),{},{status:"STARTED"}),v(j)})),vn.on(In,function(){var e=Object(Be.a)(Object(Pe.a)().mark((function e(n){var t,r,o,i,a;return Object(Pe.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(In,"EXECUTING",n),t=n.transactionEntries,y(Object(xn.a)(Object(xn.a)({},f),{},{isExecutingMove:!0})),r=0;case 4:if(!(r<t.length)){e.next=13;break}return o=t[r].move,i=t[r].state,e.next=9,d(o);case 9:O(i);case 10:r++,e.next=4;break;case 13:void 0!==(a=n.finalState)&&O(a),y(Object(xn.a)(Object(xn.a)({},f),{},{isExecutingMove:!1}));case 16:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),vn.on(Dn,(function(){h.setHasPendingRematchInvitation(!0)})),vn.on(_n,(function(){h.setIsSendRematchInvitationLoading(!1),h.setHasPendingRematchInvitation(!1),u.push("/")})),vn.on(Cn,function(){var e=Object(Be.a)(Object(Pe.a)().mark((function e(n){var t;return Object(Pe.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(Cn,"ERROR",n),t=n.errorType,Qn.includes(t)&&(h.setError(n),h.setIsJoiningRoom(!1));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),vn.on(Un,(function(e){console.log(e),"HOST"===e.role&&(console.log("======4. host player jumped out========="),"HOST"===j.role?(j.status="NOT_STARTED",j.role=void 0,j.hostUsername=void 0,j.guestUsername=void 0,j.roomId=void 0,j.roomName=void 0):(j.status="WAITING_FOR_GUEST",j.role="HOST",j.hostUsername=j.guestUsername,j.guestUsername=void 0),v(j)),"GUEST"===e.role&&(console.log("======4. GUEST player jumped out========="),"HOST"===j.role?(j.status="WAITING_FOR_GUEST",j.guestUsername=void 0):(j.status="NOT_STARTED",j.role=void 0,j.hostUsername=void 0,j.guestUsername=void 0,j.roomId=void 0,j.roomName=void 0),v(j))})),vn.on(Ln,(function(){console.log("======4.there is no player========="),j.status="NOT_STARTED",j.role=void 0,j.hostUsername=void 0,j.guestUsername=void 0,j.roomId=void 0,j.roomName=void 0,v(j),console.log("")}))}),[]),{}},et=function(e){var n=e.roomsService;return{createRoom:function(e){vn.emit(Bn,{roomName:e})},deleteRoom:function(e){console.log("deleteRoom"),vn.emit(Zn,{roomId:e})},joinRoom:function(e,n){vn.emit(Wn,{roomId:e,username:n})},pressInitRoll:function(){vn.emit(qn,"")},pressRoll:function(){vn.emit(Hn,"")},getRooms:function(){n.setIsLoading(!0),vn.emit(Fn,"")},getAllRooms:function(){console.log("call getallrooms function"),n.setIsLoadingAll(!0),vn.emit(Pn,"")},getAllUsers:function(){n.setIsLoadingAll(!0),vn.emit(An,"")},selectToMove:function(e){vn.emit(zn,e)},confirmMove:function(){vn.emit(Vn,"")},undo:function(){vn.emit(Gn,"")},sendRematchInvitation:function(){vn.emit(Jn,"")},acceptRematchInvitation:function(){vn.emit(Yn,"")},declineRematchInvitation:function(){vn.emit(Xn,"")},quitFromGame:function(e,n,t,r,o){console.log("===========2.IO.emit called=============="),vn.emit(Kn,{status:e,roomId:n,role:t,hostUsername:r,guestUsername:o})}}},nt=function(e){var n=Object(pe.useState)(!1),t=Object(xe.a)(n,2),r=t[0],o=t[1],i=Object(pe.useState)(!1),a=Object(xe.a)(i,2),c=a[0],s=a[1],d=Object(pe.useState)(!1),l=Object(xe.a)(d,2),u=l[0],b=l[1],p=Object(pe.useState)(!1),h=Object(xe.a)(p,2),j=h[0],m=h[1],x=Object(pe.useState)([]),f=Object(xe.a)(x,2),O=f[0],g=f[1],v=Object(pe.useState)([]),y=Object(xe.a)(v,2),w=y[0],S=y[1],N=Object(pe.useState)([]),k=Object(xe.a)(N,2),E=k[0],R=k[1],I=Object(pe.useState)(!1),T=Object(xe.a)(I,2),C=T[0],M=T[1],D=Object(pe.useState)(!1),_=Object(xe.a)(D,2),U=_[0],L=_[1],A=Object(pe.useState)({roomName:void 0}),P=Object(xe.a)(A,2),F=P[0],B=P[1],W=Object(pe.useState)({roomId:void 0,username:void 0}),q=Object(xe.a)(W,2),H=q[0],z=q[1],G=Object(pe.useState)(void 0),V=Object(xe.a)(G,2),J=V[0],Y=V[1];return{isLoading:r,setIsLoading:o,rooms:O,setRooms:g,isLoadingAll:c,setIsLoadingAll:s,allRooms:w,setAllRooms:S,allUsers:E,setAllUsers:R,createRoomForm:F,isCreatingRoom:C,setIsCreatingRoom:M,updateCreateRoomForm:B,initCreateForm:function(){B({roomName:void 0})},isJoiningRoom:U,setIsJoiningRoom:L,updateJoinRoomForm:z,joinRoomForm:H,initJoinForm:function(){z({roomId:void 0,username:void 0})},error:J,setError:Y,isSendRematchInvitationLoading:u,setIsSendRematchInvitationLoading:b,hasPendingRematchInvitation:j,setHasPendingRematchInvitation:m}},tt=Object(pe.createContext)({}),rt=function(e){var n=e.children,t=Object(pe.useState)({status:"NOT_STARTED",roomId:void 0,roomName:void 0,hostUsername:void 0,guestUsername:void 0,role:void 0}),r=Object(xe.a)(t,2),o=r[0],i=r[1],a=nt({});$n({networkState:o,updateNetworkState:i,roomsService:a});var c=et({networkState:o,updateNetworkState:i,roomsService:a});return Object(_e.jsx)(tt.Provider,{value:{networkState:o,roomsService:a,emitterService:c},children:n})},ot=function(){return Object(pe.useContext)(tt)},it=t(9),at=Object(pe.createContext)({}),ct=function(e){var n=e.children,t=ot(),r=t.networkState,o=t.roomsService,i=Ae(),a=i.state,c=i.consequences,s=jn().uiState,d="HOST"===r.role?"W":"B",l=a.turn===d,u=function(e){var n=a.stateMachine,t=(a.turn,a.initDiceRolled);a.diceRolled;return s.isExecutingRoll[e]||"PENDING_MOVE"===n||"PENDING_INIT_ROLL"===n&&-1!==t[e]},b=function(e){var n=function(e){return"W"===e?"HOST":"GUEST"}(e);return("HOST"===n?r.hostUsername:r.guestUsername)||""},p=function(){return"WIN"===a.stateMachine};return Object(_e.jsx)(at.Provider,{value:{myPlayer:d,isMyTurn:l,canInviteForRematch:function(){if(!p())return!1;var e=o.isSendRematchInvitationLoading,n=o.hasPendingRematchInvitation;return!e&&!n},shouldShowRematchInvitation:function(){return!!p()&&o.hasPendingRematchInvitation},canInitRoll:function(){var e=s.pressedRoll,n=s.isExecutingRoll,t=a.stateMachine,r=a.initDiceRolled,o=[!n[d],"PENDING_INIT_ROLL"===t,-1===r[d],!e];return Object(it.every)(o,it.identity)},canRoll:function(){var e=a.stateMachine,n=a.diceRolled,t=s.pressedRoll,r=s.isExecutingRoll,o=[l,!r[d],"PENDING_ROLL"===e,0===n.length,!t];return Object(it.every)(o,it.identity)},canUndo:function(){var e=s.isExecutingMove,n=s.pressedUndo,t=a.stateMachine,r=a.diceRolled,o=[a.plyRoll.length>r.length,!n,l,"PENDING_MOVE"===t,!e];return Object(it.every)(o,it.identity)},canConfirmMove:function(){var e=s.pressedConfirm,n=a.stateMachine,t=a.diceRolled,r=a.positionTransitionsMap,o=[l,!e,"PENDING_MOVE"===n,0===t.length||0===r.length];return Object(it.every)(o,it.identity)},getHasPipMove:function(e,n){var t=a.positionTransitionsMap,r=Object(it.get)(Object(it.find)(t,{from:e}),"to.length",0)>0;return"hit-space"===e?l&&("hit-space"===e&&n===d)&&r:l&&r},getUsernameByPlayer:b,areThereNonAvailableMoves:function(){return Boolean(Object(it.find)(c,{type:"NON_AVAILABLE_MOVES"}))},shouldShowDiceContainer:u,getDiceMetadata:function(e){if(!u(e))return[];var n=a.stateMachine,t=a.turn,r=a.initDiceRolled,o=a.diceRolled,i=s.isExecutingRoll[e],d=Object(it.find)(c,{type:"NON_AVAILABLE_MOVES"});if("PENDING_INIT_ROLL"===n){var l=Object(it.find)(c,{type:"SAME_DIE_ROLLED"}),b=Object(it.find)(c,{type:"FINISHED_INIT_ROLL"});if(void 0!==l)return[{nthDie:0,dieNum:l.payload.rolledDie}];if(void 0!==b)return[{nthDie:0,dieNum:b.payload.initDiceRolled[e]}];var p=r[e];return[-1!==p?{nthDie:0,dieNum:p}:{nthDie:0,dieNum:1}]}if(i){var h=void 0!==d?d.payload.rolledDice:Object(it.times)(2);return Object(it.map)(h,(function(e,n){return{nthDie:n,dieNum:e}}))}if(e===t){var j=Object(it.find)(c,{type:"NON_AVAILABLE_MOVES"}),m=void 0!==j?j.payload.rolledDice:o;return Object(it.map)(m,(function(e,n){return{nthDie:n,dieNum:e}}))}return[]},hasWin:p,whoWon:function(){var e;if(p())return null===(e=Object(it.maxBy)(Object(it.map)([Ce,Te],(function(e){return{playerName:b(e),bearOffRank:a.bearOff[e]}})),"bearOffRank"))||void 0===e?void 0:e.playerName}},children:n})},st=function(){return Object(pe.useContext)(at)},dt=Object(pe.createContext)({}),lt=function(e){var n=e.children,t=Ae(),r=t.state,o=t.consequences,i=jn().uiState,a=st(),c=a.areThereNonAvailableMoves,s=a.getUsernameByPlayer,d=a.hasWin,l=a.whoWon,u=function(){return Object(it.some)(o,{type:"SAME_DIE_ROLLED"})},b=function(){return Object(it.some)(o,{type:"FINISHED_INIT_ROLL"})};return Object(_e.jsx)(dt.Provider,{value:{inferLog:function(){return Object(it.cond)([[d,Object(it.constant)(Object(_e.jsxs)("span",{style:{color:"greenyellow"},children:["Player ",Object(_e.jsx)("label",{style:{color:"#ffd17a"},children:l()})," has won"]}))],[c,Object(it.constant)("There are no moves available")],[u,Object(it.constant)("Same Die Rolled, please Roll Again")],[b,function(){var e=Object(it.find)(o,{type:"FINISHED_INIT_ROLL"});return Object(_e.jsxs)("span",{children:[s(e.payload.turn)," had bigger roll, he plays first"]})}],[function(){return"PENDING_INIT_ROLL"===r.stateMachine},Object(it.constant)("Waiting for init roll")],[function(){return i.isExecutingMove},Object(it.constant)(Object(_e.jsxs)("span",{children:[Object(_e.jsx)("label",{style:{color:"#ffd17a"},children:s(r.turn)}),"'s turn: Currently moving"]}))],[function(){return"PENDING_MOVE"===r.stateMachine},Object(it.constant)(Object(_e.jsxs)("span",{children:[Object(_e.jsxs)("label",{style:{color:"#ffd17a"},children:[s(r.turn)," "]}),"'s turn: Waiting to move"]}))],[function(){return i.isExecutingRoll.B||i.isExecutingRoll.W},Object(it.constant)(Object(_e.jsxs)("span",{children:[Object(_e.jsxs)("label",{style:{color:"#ffd17a"},children:[s(r.turn)," "]}),"'s turn: Currently rolling"]}))],[function(){return"PENDING_ROLL"===r.stateMachine},Object(it.constant)(Object(_e.jsxs)("span",{children:[Object(_e.jsx)("label",{style:{color:"#ffd17a"},children:s(r.turn)})," ","'s turn: Waiting to roll"]}))]])(void 0)}},children:n})},ut=t(6),bt=t(7),pt=t(36),ht=t.n(pt),jt="https://backgammoncloud.herokuapp.com/api/",mt=new(function(){function e(){Object(ut.a)(this,e)}return Object(bt.a)(e,[{key:"login",value:function(e,n){return ht.a.post(jt+"signin",{username:e,password:n}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"register",value:function(e,n,t,r,o,i,a,c){return ht.a.post(jt+"signup",{username:e,email:n,password:t,country:r,state:o,gender:i,birthday:a,role:c})}},{key:"getCurrentUser",value:function(){var e=localStorage.getItem("user");return e?JSON.parse(e):null}}]),e}()),xt={on:function(e,n){document.addEventListener(e,(function(e){return n(e)}))},dispatch:function(e,n){document.dispatchEvent(new CustomEvent(e,{detail:n}))},remove:function(e,n){document.removeEventListener(e,n)}},ft=t(3),Ot="#7f512f",gt=Oe.c.div(r||(r=Object(ft.a)(["\n  background-image: url(/wood-texture.png);\n  height: calc(100vh - 56px);\n  padding: 10px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),vt=Oe.c.div(o||(o=Object(ft.a)(["\n  box-shadow: 5px -3px 16px black;\n  background-image: url(/wood-board.jpg);\n  border-radius: 4px;\n  min-width: 500px;\n  max-width: 900px;\n  width: 30%;\n  height: 500px;\n  display: flex;\n  flex-direction: column;\n"]))),yt=(Oe.c.div(i||(i=Object(ft.a)(["\n  height: 40px;\n  border-bottom: 1px solid ",";\n  font-size: 19px;\n  font-style: italic;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: white;\n"])),Ot),Oe.c.div(a||(a=Object(ft.a)(["\n  display: flex;\n  height: 100%;\n  opacity: 0.7;\n"])))),wt=(Oe.c.div(c||(c=Object(ft.a)(["\n  box-sizing: border-box;\n  border-right: 1px solid ",";\n  border-radius: 4px;\n  border-top-right-radius: 0px;\n  border-bottom-right-radius: 0px;\n  display: flex;\n  flex-direction: column;\n  width: 30%;\n  min-width: 170px;\n"])),Ot),Oe.c.div(s||(s=Object(ft.a)(["\n  height: 40px;\n  font-size: 13px;\n\n  color: white;\n  padding: 0px 15px;\n  display: flex;\n\n  align-items: center;\n\n  transition: background-color 0.3s ease-out;\n  user-select: none;\n  cursor: pointer;\n\n  &:hover {\n    background-color: ",";\n  }\n\n  ","\n"])),Ot,(function(e){return e.isSelected&&"background-color: ".concat(Ot,";\n  ")})),Oe.c.div(d||(d=Object(ft.a)(["\n  flex: 1;\n  height: 100%;\n  box-sizing: border-box;\n"])))),St=(Object(Oe.c)(ge.b)(l||(l=Object(ft.a)(["\n  text-decoration: none !important;\n"]))),Oe.c.div(u||(u=Object(ft.a)(["\n"])))),Nt=Oe.c.h3(b||(b=Object(ft.a)(["\n  color: white;\n  height: 32px;\n  font-size: 1rem;\n  margin: 0px;\n  padding: 0px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-weight: 600;\n  border-bottom: 1px solid ",";\n"])),Ot),kt=Oe.c.div(p||(p=Object(ft.a)(["\n  padding: 10px;\n"]))),Et=(Oe.c.p(h||(h=Object(ft.a)(["\n  font-size: 13px;\n  color: white;\n"]))),Oe.c.button(j||(j=Object(ft.a)(["\n  border-radius: 4px;\n  border: none;\n  outlone: none;\n  background-color: ",";\n  color: white;\n  border: 2px solid black;\n  cursor: pointer;\n  transition: backround-color 0.5s ease-in;\n\n  &:hover:not(:disabled) {\n    background-color: orange;\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    opacity: 0.7;\n  }\n"])),Ot)),Rt=Oe.c.div(m||(m=Object(ft.a)(["\n  display: flex;\n  padding: 10px;\n"]))),It=Oe.c.label(x||(x=Object(ft.a)(["\n  background-color: #fa4f4f;\n  font-size: 13px;\n  color: white;\n  border-radius: 4px;\n  padding: 8px 16px;\n  font-weight: 700;\n  font-style: italic;\n"]))),Tt=Oe.c.input(f||(f=Object(ft.a)(["\n  outline: none;\n  border: none;\n  padding: 0px;\n  margin: 0px;\n  box-sizing: border-box;\n  border: 1px solid transparent;\n  border-radius: 4px;\n  display: block;\n  color: white;\n  background-color: ",";\n  height: 30px;\n  padding: 4px 8px;\n  transition: opacity, border-color 0.3s ease-in;\n  opacity: 1;\n\n  &::placeholder {\n    color: #8fe6d6;\n    font-style: italic;\n    opacity: 1;\n  }\n\n  &:focus {\n    border: 1px solid white;\n    opacity: 0.9;\n  }\n"])),Ot),Ct=function(e){var n=e.defaultValue,t=e.value,r=e.onChange,o=e.width,i=void 0===o?"250px":o,a=e.type,c=void 0===a?"text":a,s=e.placeholder,d=void 0===s?"":s,l=Object(pe.useState)(n),u=Object(xe.a)(l,2),b=u[0],p=u[1];Object(pe.useEffect)((function(){p(t)}),[t]);return Object(_e.jsx)(Tt,{type:c,style:{width:i},placeholder:d,value:b||"",onChange:function(e){var n=e.target.value;p(n),r(n)}})},Mt=function(){var e=ot(),n=e.emitterService,t=e.roomsService,r=t.isCreatingRoom,o=t.updateCreateRoomForm,i=t.createRoomForm,a=t.setIsCreatingRoom,c=[t.createRoomForm.roomName].some((function(e){return void 0===e||""===e}))||r;return Object(_e.jsxs)(St,{children:[Object(_e.jsx)(Nt,{children:"Create New Game"}),Object(_e.jsxs)(kt,{children:[Object(_e.jsx)(Rt,{children:Object(_e.jsx)(Ct,{width:"100%",placeholder:"Roomname",defaultValue:"",value:i.roomName,onChange:function(e){return function(e,n){o(Object(xn.a)(Object(xn.a)({},i),{},Object(mn.a)({},e,n)))}("roomName",e)}})}),Object(_e.jsx)(Rt,{style:{flexDirection:"row-reverse"},children:Object(_e.jsx)(Et,{style:{height:"32px"},disabled:c,onClick:function(){return function(){a(!0);var e=i.roomName;n.createRoom(e)}()},children:r?"Creating":"Create Game"})})]})]})},Dt=Object(Oe.c)(kt)(O||(O=Object(ft.a)(["\n  display: flex;\n  flex-direction: column;\n  max-height: 300px;\n"]))),_t=Oe.c.div(g||(g=Object(ft.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  overflow-y: auto;\n"]))),Ut=Oe.c.div(v||(v=Object(ft.a)(["\n  margin-bottom: 20px;\n  padding: 4px;\n  border: 1px solid transparent;\n\n  transition: border-color 0.3s ease-out;\n\n  ","\n"])),(function(e){return e.isExpanded&&"border-color: gray;"})),Lt=Oe.c.div(y||(y=Object(ft.a)(["\n  box-shadow: 5px -3px 16px black;\n  height: 28px;\n  border-radius: 4px;\n  padding: 0px 8px;\n  user-select: none;\n  background-color: ",";\n  margin-bottom: 4px;\n  display: flex;\n\n  &:hover {\n    opacity: 0.7;\n  }\n  cursor: pointer;\n"])),Ot),At=Oe.c.section(w||(w=Object(ft.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex: 1;\n\n  & input {\n    height: 90%;\n    width: 100%;\n  }\n"]))),Pt=Oe.c.label(S||(S=Object(ft.a)(["\n  display: inline-block;\n  font-size: 13px;\n  font-weight: 700;\n  min-width: 80px;\n  color: white;\n"]))),Ft=(Oe.c.label(N||(N=Object(ft.a)(["\n  color: #9de7ec;\n  font-size: 13px;\n  font-weight: 600;\n"]))),Oe.c.div(k||(k=Object(ft.a)([""]))),function(){var e=Object(pe.useState)(void 0),n=Object(xe.a)(e,2),t=n[0],r=n[1],o=ot(),i=o.emitterService,a=o.roomsService,c=Object(pe.useState)(""),s=Object(xe.a)(c,2),d=s[0],l=s[1],u=a.rooms,b=a.isLoading,p=a.isJoiningRoom,h=(a.updateJoinRoomForm,a.joinRoomForm,a.setIsJoiningRoom),j=a.error;Object(pe.useEffect)((function(){return l(mt.getCurrentUser().username),i.getRooms(),console.log(!d),function(){a.setRooms([]),a.setIsJoiningRoom(!1),a.setError(void 0)}}),[]);var m=!d||p,x=void 0===j?void 0:function(e){var n=e.errorType,t=e.payload;switch(n){case"PASSWORD_NOT_PRESENT":return"There was no password for room named: ".concat(t.roomName);case"PASSWORD_NOT_VALID":return"Password for room '".concat(t.roomName,"' was not valid. Please try again.");default:return"Some error happened"}}(j);return Object(_e.jsxs)(St,{children:[Object(_e.jsxs)(Nt,{children:["Available Rooms (",b?"Loading":"Up to date",")"]}),Object(_e.jsx)(Dt,{children:Object(_e.jsx)(_t,{children:u.map((function(e){return Object(_e.jsxs)(Ut,{isExpanded:t===e.id,children:[Object(_e.jsx)(Lt,{onClick:function(){return r((function(n){return n!==e.id?e.id:void 0}))},children:Object(_e.jsx)(At,{children:Object(_e.jsx)(Pt,{children:e.name})})}),e.id===t&&Object(_e.jsx)(St,{children:Object(_e.jsxs)(kt,{children:[x&&Object(_e.jsx)(Rt,{children:Object(_e.jsx)(It,{children:x})}),Object(_e.jsx)(Rt,{style:{flexDirection:"row-reverse"},children:Object(_e.jsx)(Et,{style:{height:"32px"},disabled:m,onClick:function(){return n=e.id,console.log("trying to join",n),h(!0),void i.joinRoom(n,d);var n},children:p?"Joining Room":"Join Room ".concat(e.name)})})]})})]},e.id)}))})})]})}),Bt=function(){Object(fn.g)();var e=Object(pe.useState)(""),n=Object(xe.a)(e,2),t=n[0],r=n[1],o=Object(pe.useState)(void 0),i=Object(xe.a)(o,2);i[0],i[1];return Object(pe.useEffect)((function(){r(mt.getCurrentUser().role)}),[]),Object(_e.jsx)(gt,{children:Object(_e.jsx)(vt,{children:Object(_e.jsx)(yt,{children:Object(_e.jsx)(wt,{children:"ROLE_ADMIN"===t?Object(_e.jsx)(Mt,{}):Object(_e.jsx)(Ft,{})})})})})},Wt=Oe.c.div(E||(E=Object(ft.a)([""]))),qt=function(){return Object(_e.jsx)(Wt,{children:Object(_e.jsx)(Bt,{})})},Ht=Ne,zt=ke,Gt=Oe.c.div(C||(C=Object(ft.a)(["\n  border-radius: 50%;\n  width: 80%;\n  height: 80%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  font-size: 24px;\n  font-weight: bold;\n\n  color: ",";\n"])),(function(e){return"W"===e.player?"black":"white"})),Vt=Oe.c.div(M||(M=Object(ft.a)(["\n  z-index: 1;\n  border-radius: 50%; \n  transition: background 1s ease-in;\n  box-sizing: border-box;\n\n\n  ",";\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n \n  left: 0px;\n  top: 0px;\n\n  margin: auto;\n  margin-top: 0px;\n  margin-bottom: 0px;\n   ",";}\n\n  \n  ","\n\n\n      ","\n   \n    ","\n  \n\n    ","\n\n"])),(function(e){var n=e.theme.dimensions;return"\n    width: ".concat(n.width*Ht,"px;\n    height: ").concat(n.width*Ht,"px;\n    ")}),(function(e){var n,t=e.animationMetadata,r=e.shouldAnimate;return t&&r&&Object(Oe.b)(D||(D=Object(ft.a)(["\n       animation: ","\n         ","s cubic-bezier(0.91, 1, 0.61, 0.95);\n       animation-fill-mode: forwards;\n     "])),(n={left:t.left,top:t.top},Object(Oe.d)(R||(R=Object(ft.a)(["\n  0% {\n    z-index: 2;\n  }\n  100% {\n    left: ","px;\n    top: ","px;\n    z-index: 2;\n  }\n"])),n.left,n.top)),t.duration)}),(function(e){return"W"===e.player?" \n \n      background: linear-gradient(-30deg, rgb(0, 0, 0), rgb(200, 230, 255));\n      & ".concat(Gt," {\n        background: linear-gradient(0deg, rgb(196 219 237) 0%, rgb(39 23 12 / 79%) 100%);\n      }"):"\n      background: linear-gradient(13deg ,rgb(9 10 10),rgb(116 125 133));\n      & ".concat(Gt," {\n       background: linear-gradient(235deg, rgb(25 26 27 / 91%) 0%,rgb(160 155 151 / 79%) 100%);\n      }}")}),(function(e){return e.hasMove&&Object(Oe.b)(_||(_=Object(ft.a)(["\n          animation: "," 0.5s ease-out infinite alternate;\n          // background: linear-gradient(-30deg, rgb(22 206 122), rgb(116 125 133));\n          cursor: pointer;\n        "])),Object(Oe.d)(I||(I=Object(ft.a)(["\n  0% {\n    background: linear-gradient(-30deg, rgb(22 206 122), rgb(116 125 133));\n    // background: linear-gradient(-30deg, rgb(0 206 55), rgb(16 25 133));\n  }\n  100% {\n  \n    background: linear-gradient(-30deg, rgb(22 206 122), rgb(116 125 133));\n  }\n"]))))}),(function(e){var n=e.isBearOffChecker,t=e.theme.dimensions;return n&&"\n      border-radius: 4px;\n      \n      height: ".concat(t.width*Ht*zt,"px;\n    ")}),(function(e){return e.isSelected&&Object(Oe.b)(U||(U=Object(ft.a)(["\n        border: 1px solid black;\n        // animation: "," 0.3s ease-out infinite alternate;\n      "])),Object(Oe.d)(T||(T=Object(ft.a)(["\n  0% {\n    transform: scale(1);\n    // border: 2px solid white;\n  }\n  100% {\n  \n    transform: scale(1.1);\n    // border: 2px solid orange;\n  }\n"]))))})),Jt=function(e){var n,t=e.player,r=e.pipNum,o=e.checkerNum,i=e.canBeSelected,a=e.isHitChecker,c=void 0!==a&&a,s=e.countIndicator,d=e.canBeHit,l=void 0!==d&&d,u=e.hasMove,b=void 0!==u&&u,p=e.isBearOffChecker,h=void 0!==p&&p,j=jn(),m=j.uiState,x=j.updateUiState,f=j.animations.moveChecker,O=m.selectedChecker,g=(n=[{when:!0,value:"checker"},{when:void 0!==t,value:t},{when:i,value:"can-be-selected"},{when:l,value:"can-be-hit"}],Ge()(Je()(n,{when:!0}),"value").join(" ")),v=f.find((function(e){return void 0!==e.pipNum&&e.pipNum===r||e.isHitSpaceMove&&c&&e.player===t})),y=void 0!==v&&i,w=h||y&&Boolean(null===v||void 0===v?void 0:v.isBearOffMove),S=!w,N=i&&(null===O||void 0===O?void 0:O.pipId)===r;return Object(_e.jsx)(Vt,{className:g,onMouseDown:b?function(e){if(b){e.stopPropagation();var n=m.selectedChecker,t=(null===n||void 0===n?void 0:n.pipId)===r?void 0:Object(xn.a)(Object(xn.a)({},n),{},{pipId:void 0===r?"hit-space":r});document.querySelector("#play-select-checker").click(),x(Object(xn.a)(Object(xn.a)({},m),{},{selectedChecker:t}))}}:void 0,player:t,checkerNum:o,shouldAnimate:y,animationMetadata:v,canBeSelected:i,hasMove:b&&!y,isBearOffChecker:w,isSelected:N,children:S&&Object(_e.jsx)(Gt,{player:t,children:!y&&s})})},Yt=ye,Xt=we,Kt=Se,Zt=Oe.c.div(L||(L=Object(ft.a)(["\n  border-radius: 4px;\n  position: relative;\n  ","\n"])),(function(e){var n=e.theme.dimensions;return"\n  width: ".concat(n.width-Kt*n.width,"px;\n  height: ").concat(n.height,"px;\n")})),Qt=Oe.c.div(A||(A=Object(ft.a)(["\n  border-radius: 4px;\n  position: relative;\n  box-shadow: 10px -8px 18px black;\n  ",";\n"])),(function(e){var n=e.theme;return"\n    width: ".concat(n.dimensions.width,"px;\n    height: ").concat(n.dimensions.height,"px;\n  ")})),$t=Oe.c.div(P||(P=Object(ft.a)(["\n  background-image: url(/wood-board.jpg);\n  position: absolute;\n  border: 1px solid black;\n  border: none;\n  border-radius: 4px;\n  box-sizing: border-box;\n  ",";\n"])),(function(e){return function(e,n){switch(e){case"W":return"\n        left: 0px;\n        top: 0px;\n        width: ".concat(n.width*Yt,"px;\n        height: 100%;\n        box-shadow: 9px 3px 8px #2c1c1c;\n        z-index: 1;\n      ");case"N":return"\n        left: 0px;\n        top: 0px;\n        width: 100%;\n        height: ".concat(n.height*Yt,"px;\n    ");case"S":return"\n        left: 0px;\n        bottom: 0px;\n        width: 100%;\n        height: ".concat(n.height*Yt,"px;\n        ");case"E":return"\n        border-right: none;\n        border-radius: 0px;\n        right: 0px;\n        top: 0px;\n        width: ".concat(n.width*Yt,"px;\n        height: 100%;\n        ");case"CENTER":return"\n        border-radius: 0px;\n        left: calc(50% - ".concat(n.width*Xt,"px / 2);\n        top: ").concat(n.height*Yt,"px;\n        width: ").concat(n.width*Xt,"px;\n        height: calc(100% - ").concat(n.height*Yt*2,"px);\n        border-bottom: none;\n        border-top: none;\n        display: flex;\n        flex-direction: column;\n      ");case"BEAROFF":return"\n        border: none;\n        // border-right: 1px solid black;\n        // border-top: 1px solid black;\n        border-radius: 0px;\n        right: 0px;\n        top: 0px;\n        width: ".concat(n.width*Kt-0,"px;\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n          ")}}(e.side,e.theme.dimensions)})),er=Oe.c.div(F||(F=Object(ft.a)(["\n  position: absolute;\n  box-sizing: border-box;\n  background-color: #1dc6dc;\n  width: ",";\n  height: ",";\n\n  ",";\n\n  top: ",";\n  display: flex;\n  flex-direction: column;\n"])),(function(e){var n=e.theme;return"calc(50% - (".concat(n.dimensions.width*Yt,"px + ").concat(n.dimensions.width*Xt/2,"px))")}),(function(e){var n=e.theme;return"calc(100% - ".concat(n.dimensions.height*Yt*2,"px)")}),(function(e){var n=e.theme,t=e.side;return"".concat(t,":").concat(n.dimensions.width*Yt,"px")}),(function(e){var n=e.theme;return"\n    ".concat(n.dimensions.height*Yt,"px;\n  ")})),nr=(Oe.c.div(B||(B=Object(ft.a)(["\n  box-shadow: -10px -8px 22px black;\n  border: 1px solid black;\n  border-radius: 4px;\n  box-sizing: border-box;\n  background-color: #0200006b;\n\n  height: 40%;\n  width: 90%;\n  margin-top: 20px;\n"]))),Oe.c.div(W||(W=Object(ft.a)(["\n  width: 2px;\n  height: 100%;\n\n  position: absolute;\n  top: 0px;\n  left: calc(50% - 1px);\n  background-color: black;\n  position: relative;\n"])))),tr=Oe.c.div(q||(q=Object(ft.a)(["\n  // background-image: url(/wood-board.jpg);\n\n  // width: 700%;\n  // height: 10%;\n  // position: absolute;\n  // top: 10%;\n  // left: -350%;\n  // border-radius: 4px;\n"]))),rr=t(141),or=t.n(rr),ir=Oe.c.div(H||(H=Object(ft.a)(["\n  background-image: url(/wood-t.jpg);\n\n  width: 100%;\n  height: 50%;\n  display: flex;\n  box-sizing: border-box;\n\n  &:nth-child(even) {\n    align-items: flex-end;\n  }\n\n  ","\n"])),(function(e){var n=e.quadrantNum;return[0,1].includes(n)&&"\n    flex-direction: row-reverse;\n  "})),ar=t(142),cr=t.n(ar),sr=t(53),dr=t.n(sr),lr=Ne,ur=Oe.c.div(z||(z=Object(ft.a)(["\n  border-radius: 4px;\n  transition: background 0.7s ease-out;\n  box-sizing: border-box;\n  flex: 1;\n  height: 88%;\n  border-left: none;\n  position: relative;\n"]))),br=Oe.c.div(G||(G=Object(ft.a)(["\n  clip-path: polygon(50% 0%, 0% 100%, 100% 100%);\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  transform: opacity 0.2s ease-out;\n  ",";\n\n  transition: background-color 0.5s ease-out;\n  ","\n"])),(function(e){return function(e){var n={};return e.even?n.backgroundColor="#533713a1":n.backgroundColor="#211b26a1",[0,1].includes(e.quadrantNum)&&(n.transform="rotate(180deg)"),n}(e.metadata)}),(function(e){return e.shouldHighlight&&"\n    background-color: #7db53c;\n  "})),pr=Oe.c.div(V||(V=Object(ft.a)(["\n  background-color: transparent;\n  width: 100%;\n  height: 100%;\n  position: relative;\n\n  display: flex;\n  flex-direction: column;\n\n  ","\n"])),(function(e){var n=e.quadrantNum;return[2,3].includes(n)?"\n    flex-direction: column-reverse;\n  ":""})),hr=Oe.c.div(J||(J=Object(ft.a)(["\n  width: ","px;\n  height: ","px;\n  background-color: black;\n  margin: 0px auto;\n  visibility: hidden;\n"])),(function(e){return e.theme.dimensions.width*lr}),(function(e){return e.theme.dimensions.width*lr})),jr=function(e){var n=e.pipNumber,t=e.quadrantNum,r=Ae().state,o=ot().emitterService,i=st().getHasPipMove,a=jn(),c=a.uiState,s=a.updateUiState,d=c.selectedChecker,l=c.isExecutingMove,u=(r||{}).positionTransitionsMap,b=cr()(null===r||void 0===r?void 0:r.pips,n),p=(null===b||void 0===b?void 0:b.count)||0,h=null!==b&&void 0!==b&&b.isEmpty?[]:un()(p).slice(0,5),j=p>5?p-5+1:void 0,m=1===p,x=i(b.pipId,b.player),f=function(e){return j?4===e:e===h.length-1},O=dr()(u,{from:null===d||void 0===d?void 0:d.pipId}),g=rn(b.pipId,O);return Object(_e.jsxs)(ur,{id:"PIP_ID_".concat(n),onClick:function(){g&&function(){var e={from:null===d||void 0===d?void 0:d.pipId,to:b.pipId};s(Object(xn.a)(Object(xn.a)({},c),{},{selectedChecker:void 0,isExecutingMove:!0})),o.selectToMove(e)}()},ref:function(e){return We[n]=e},children:[Object(_e.jsx)(br,{shouldHighlight:g,metadata:{even:n%2===0,quadrantNum:t}}),Object(_e.jsxs)(pr,{quadrantNum:t,children:[h.map((function(e){return Object(_e.jsx)(Jt,{checkerNum:e,countIndicator:4===e?j:void 0,canBeSelected:f(e),canBeHit:m,hasMove:!l&&x&&f(e),pipNum:n,player:b.player},e)})),Object(_e.jsx)(hr,{className:"position-handle"})]})]},n)},mr=function(e){var n=e.quadrantNum,t=e.pipsRange;return Object(_e.jsx)(ir,{quadrantNum:n,children:or()(t.from,t.to).map((function(e){return Object(_e.jsx)(jr,{pipNumber:e,quadrantNum:n},e)}))})},xr=Ee,fr=Object(Oe.d)(Y||(Y=Object(ft.a)(["\n  0% {\n    opacity: 0;\n    height: 0px;\n  }\n  100% {\n    opacity: 1;\n    height: 100%;\n  }\n"]))),Or=Oe.c.div(X||(X=Object(ft.a)(["\n  // border: 1px solid white;\n  box-sizing: border-box;\n\n  position: absolute;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 100%;\n  height: ",";\n  top: ",";\n"])),(function(e){var n=e.theme;return"".concat(n.dimensions.height*xr,"px")}),(function(e){var n=e.theme;return"calc(50% - ".concat(n.dimensions.height*xr/2,"px)")})),gr=Oe.c.div(K||(K=Object(ft.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),vr=Oe.c.button(Z||(Z=Object(ft.a)(["\n  outline: none;\n  border: none;\n\n  // border: 1px solid white;\n  background-image: linear-gradient(\n    to right,\n    #603813 0%,\n    #b29f94 51%,\n    #603813 100%\n  );\n\n  border-radius: 6px;\n  box-shadow: 5px -5px 13px black;\n  width: 35%;\n  height: 100%;\n  min-width: 140px;\n  max-width: 200px;\n  max-height: 35px;\n  font-size: 1rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  color: white;\n  font-weight: 700;\n  font-style: italic;\n  font-family: monospace;\n\n  ","\n\n  &:hover {\n    opacity: 0.9;\n  }\n"])),(function(){return Object(Oe.b)(Q||(Q=Object(ft.a)(["\n    animation: "," 0.5s ease-in;\n    animation-fill-mode: forwards;\n  "])),fr)})),yr=Oe.c.div($||($=Object(ft.a)(["\n  // border: 1px solid white;\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),wr=(new Map).set(1,["MIDDLE"]).set(2,["NW","SE"]).set(3,["SW","MIDDLE","NE"]).set(4,["NW","NE","SE","SW"]).set(5,["NW","NE","SE","SW","MIDDLE"]).set(6,["NW","NE","E","SE","SW","W"]),Sr=["FRONT","LEFT","BOTTOM","TOP","RIGHT","BACK"].map((function(e,n){return{face:e,points:wr.get(n+1)||[]}})),Nr=Ee,kr=Re,Er=Ie,Rr=function(e){return e.height*Nr*kr},Ir=function(e){return Rr(e)*Er},Tr=function(e){return{width:Rr(e),height:Rr(e)}},Cr=function(e){return(new Map).set(1,"rotateX(-10deg) rotateY(20deg)").set(2,"rotateX(-10deg) rotateY(110deg)").set(3,"rotateX(80deg) rotateY(0deg) rotateZ(-20deg)").set(4,"rotateX(-100deg) rotateY(0deg) rotateZ(20deg)").set(5,"rotateX(-10deg) rotateY(-70deg)").set(6,"rotateX(-190deg) rotateY(-20deg)").get(e)||""},Mr=Oe.c.div(ne||(ne=Object(ft.a)(["\n  // background-color: white;\n  perpsective: 300px;\n  perspective-origin: 50% 100%;\n  margin-right: 7%;\n  ",";\n"])),(function(e){var n=e.theme;return Tr(n.dimensions)})),Dr=Oe.c.div(te||(te=Object(ft.a)(["\n  position: relative;\n  transform-style: preserve-3d;\n  transform-origin: center center center;\n\n  ",";\n  ",";\n\n  ","\n"])),(function(e){var n=e.theme;return Tr(n.dimensions)}),(function(e){var n=e.dieNum;return void 0!==n&&function(e){return{transform:Cr(e)}}(n)}),(function(e){var n=e.shouldAnimate,t=e.animationMetadata;return n&&t&&Object(Oe.b)(re||(re=Object(ft.a)(["\n      animation: ","\n        ","s linear;\n      animation-fill-mode: forwards;\n    "])),function(e){var n=100/e.length,t=Ge()(e,(function(e,t){return"\n    ".concat(t*n,"% { transform: ").concat(Cr(e),";}\n  ")}));return Object(Oe.d)(ee||(ee=Object(ft.a)(["\n    ","\n"])),t.join(""))}(t.dieFaceSequence),t.duration)})),_r=Oe.c.div(oe||(oe=Object(ft.a)(["\n  border: 1px solid black;\n  box-sizing: border-box;\n  position: absolute;\n\n  background-image: url(/dice.jpg);\n  border-radius: 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  backface-visibility: hidden;\n  user-select: none;\n\n  ","\n  ",";\n"])),(function(e){var n=e.theme;return Tr(n.dimensions)}),(function(e){var n=e.face,t=e.theme;return function(e,n){switch(e){case"FRONT":return{transform:"rotateY(0deg) translateZ(calc(".concat(n,"px / 2))")};case"BACK":return{transform:"rotateY(180deg) translateZ(calc(".concat(n,"px / 2))")};case"RIGHT":return{transform:"rotateY(90deg) translateZ(calc(".concat(n,"px / 2))")};case"LEFT":return{transform:"rotateY(-90deg) translateZ(calc(".concat(n,"px / 2))")};case"TOP":return{transform:"rotateX(90deg) translateZ(calc(".concat(n,"px / 2))")};case"BOTTOM":return{transform:"rotateX(-90deg) translateZ(calc(".concat(n,"px / 2))")}}}(n,Rr(t.dimensions))})),Ur=Oe.c.div(ie||(ie=Object(ft.a)(["\n  position: absolute;\n  background-color: white;\n  border-radius: 50%;\n\n  ",";\n\n  ","\n"])),(function(e){var n=e.theme;return{width:"".concat(Ir(n.dimensions),"px"),height:"".concat(Ir(n.dimensions),"px")}}),(function(e){var n=e.theme;return function(e,n){var t=n/2;switch(e){case"NW":return{left:"".concat(t,"px"),top:"".concat(t,"px")};case"NE":return{right:"".concat(t,"px"),top:"".concat(t,"px")};case"E":return{right:"".concat(t,"px"),top:"calc(50% - ".concat(t,"px)")};case"MIDDLE":return{left:"calc(50% - ".concat(t,"px)"),top:"calc(50% - ".concat(t,"px)")};case"SE":return{right:"".concat(t,"px"),bottom:"".concat(t,"px")};case"SW":return{left:"".concat(t,"px"),bottom:"".concat(t,"px")};case"W":return{left:"".concat(t,"px"),top:"calc(50% - ".concat(t,"px)")}}}(e.position,Ir(n.dimensions))})),Lr=function(e){var n=e.dieNum,t=e.player,r=e.nthDie,o=jn().animations,i=dr()(o.rollDice,{nthDie:r,player:t}),a=void 0!==i,c=a&&i?{duration:i.duration,dieFaceSequence:i.dieFaceSequence}:void 0;return Object(_e.jsx)(Mr,{children:Object(_e.jsx)(Dr,{shouldAnimate:a,animationMetadata:c,dieNum:n,children:Sr.map((function(e){return Object(_e.jsx)(_r,{face:e.face,children:e.points.map((function(e){return Object(_e.jsx)(Ur,{position:e},e)}))},e.face)}))})})},Ar=function(e){var n=e.player,t=(0,st().getDiceMetadata)(n);return Object(_e.jsx)(yr,{children:t.map((function(e){var t=e.dieNum,r=e.nthDie;return Object(_e.jsx)(Lr,{player:n,dieNum:t,nthDie:r},r)}))})},Pr=function(e){var n=e.player,t=jn(),r=t.uiState,o=t.updateUiState,i=ot().emitterService,a=st(),c=a.canInitRoll,s=a.canRoll,d=a.myPlayer,l=a.shouldShowDiceContainer,u=function(e){o(Object(xn.a)(Object(xn.a)({},r),{},{pressedRoll:!0})),e?i.pressInitRoll():i.pressRoll()};return Object(_e.jsx)(Or,{children:Object(_e.jsxs)(gr,{children:[n===d&&s()&&Object(_e.jsx)(vr,{onClick:function(){return u(!1)},children:"Roll"}),n===d&&c()&&Object(_e.jsx)(vr,{disabled:!c(),onClick:function(){return u(!0)},children:"Roll Initial"}),l(n)&&Object(_e.jsx)(Ar,{player:n})]})})},Fr=Ne,Br=Oe.c.div(ae||(ae=Object(ft.a)(["\n  width: ","px;\n  height: ","px;\n  background-color: black;\n  margin: 0px auto;\n  visibility: hidden;\n"])),(function(e){return e.theme.dimensions.width*Fr}),(function(e){return e.theme.dimensions.height*Fr*1.75})),Wr=Oe.c.div(ce||(ce=Object(ft.a)(["\n  // border: 5px solid #3e210d;\n  box-sizing: border-box;\n  width: 90%;\n  margin: auto;\n  height: calc(50% - 50px);\n"]))),qr=function(e){var n=e.player,t=Ae().state,r=(ot().emitterService,st().getHasPipMove),o=t.hitSpace[n],i=un()(o).slice(0,3),a=o>3?o-3+1:void 0,c=r("hit-space",n),s=function(e){return a?2===e:e===i.length-1};return Object(_e.jsxs)(Wr,{ref:function(e){return qe[n]=e},children:[i.map((function(e){return Object(_e.jsx)(Jt,{checkerNum:e,canBeSelected:s(e),hasMove:c,pipNum:"hit-space",player:n,countIndicator:2===e?a:void 0,isHitChecker:!0},e)})),Object(_e.jsx)(Br,{className:"position-handle"})]})},Hr=Ne,zr=ke,Gr=Oe.c.div(se||(se=Object(ft.a)(["\n  width: ","px;\n  height: ","px;\n  background-color: black;\n  margin: 0px auto;\n  visibility: hidden;\n"])),(function(e){return e.theme.dimensions.width*Hr}),(function(e){return e.theme.dimensions.height*Hr*1.75*zr})),Vr=Oe.c.div(de||(de=Object(ft.a)(["\n  box-sizing: border-box;\n  width: 90%;\n  margin: auto;\n  height: calc(50% - 50px);\n  display: flex;\n  flex-direction: column;\n  align-items: left;\n  padding: 8px 8px;\n\n  // border-radius: 9px;\n  // box-shadow: -5px -3px 18px #4f4a46;\n  // background: linear-gradient(\n  //   0deg,\n  //   rgb(0 0 0 / 72%) 0%,\n  //   rgb(39 23 12 / 79%) 100%\n  // );\n  // border: 1px solid black;\n\n  // border-left: 1px solid #7a7575;\n  // border-bottom: 1px solid #7a7574;\n  border-radius: 9px;\n  box-shadow: 3px 6px 9px 4px rgb(15 12 23 / 81%) inset,\n    1px -1px 7px 0 rgb(38 20 20) inset;\n"]))),Jr=Oe.c.div(le||(le=Object(ft.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n\n  transition: background-color 0.3s ease-out;\n  // background-image: url(/wood-board.jpg);\n  // border-radius: 9px;\n  // box-shadow: -5px -3px 18px black;\n  // padding: 3px 0px;\n\n  border-radius: inherit;\n\n  ","\n  ","\n"])),(function(e){return e.shouldHighlight&&"\n    background-image: none;\n    background-color: #7db53c;\n    cursor: pointer;\n  "}),(function(e){return function(e){return"S"===e?{flexDirection:"column",borderTopLeftRadius:"0px",borderTopRightRadius:"0px"}:{flexDirection:"column-reverse",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px"}}(e.direction)})),Yr=function(e){var n=e.player,t=Ae().state,r=ot().emitterService,o=jn(),i=o.uiState,a=o.updateUiState,c=t.bearOff[n],s=un()(c),d="W"===n?-1:24,l="W"===n?"S":"N",u=i.selectedChecker,b=(t||{}).positionTransitionsMap,p=dr()(b,{from:null===u||void 0===u?void 0:u.pipId}),h=rn(d,p);return Object(_e.jsx)(Vr,{ref:function(e){return He[n]=e},children:Object(_e.jsxs)(Jr,{direction:l,shouldHighlight:h,onClick:function(){return h&&function(){var e={from:null===u||void 0===u?void 0:u.pipId,to:d};a(Object(xn.a)(Object(xn.a)({},i),{},{selectedChecker:void 0})),r.selectToMove(e)}()},children:[s.map((function(e){return Object(_e.jsx)(Jt,{checkerNum:e,canBeSelected:!1,hasMove:!1,pipNum:d,player:n,countIndicator:void 0,isBearOffChecker:!0},e)})),Object(_e.jsx)(Gr,{className:"position-handle"})]})})},Xr=["title","titleId"];function Kr(){return Kr=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Kr.apply(this,arguments)}function Zr(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function Qr(e,n){var t=e.title,r=e.titleId,o=Zr(e,Xr);return pe.createElement("svg",Kr({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,ref:n,"aria-labelledby":r},o),t?pe.createElement("title",{id:r},t):null,ue||(ue=pe.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),be||(be=pe.createElement("path",{stroke:"currentColor",fill:"currentColor",d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})))}var $r,eo,no=pe.forwardRef(Qr),to=(t.p,["title","titleId"]);function ro(){return ro=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ro.apply(this,arguments)}function oo(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function io(e,n){var t=e.title,r=e.titleId,o=oo(e,to);return pe.createElement("svg",ro({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",ref:n,"aria-labelledby":r},o),t?pe.createElement("title",{id:r},t):null,$r||($r=pe.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),eo||(eo=pe.createElement("path",{stroke:"currentColor",fill:"currentColor",d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"})))}var ao,co,so,lo,uo,bo,po,ho,jo,mo,xo,fo,Oo,go,vo,yo,wo,So,No,ko=pe.forwardRef(io),Eo=(t.p,Oe.c.div(ao||(ao=Object(ft.a)(["\n  box-shadow: -5px -3px 18px #4f4a46;\n  background-image: url(/wood-board.jpg);\n  width: 150%;\n  height: 50px;\n  border-radius: 10px;\n  display: flex;\n  z-index: 5;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  left: -25%;\n"])))),Ro=Oe.c.div(co||(co=Object(ft.a)(["\n  border: 1px solid #64badd;\n  box-sizing: border-box;\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  margin-right: 2px;\n  box-shadow: -5px -3px 18px #4f4a46;\n  transition: background-color 0.3s ease-out;\n\n  cursor: pointer;\n  background-color: white;\n\n  ","\n\n  &:hover {\n    ","\n  }\n"])),(function(e){return e.isDisabled&&"\n    background-color: lightgray;\n    pointer-events: none;\n  "}),(function(e){return!e.isDisabled&&"\n    border: 1px solid orange;\n    background-color: #b5c9d0;\n    "})),Io=Object(Oe.c)(no)(so||(so=Object(ft.a)(["\n  color: ",";\n  ","\n"])),(function(e){return"true"===e.is_disabled?"gray":"#64badd"}),"\n  width: 30px;\n  padding: 4px;\n  height: 30px;\n"),To=Object(Oe.c)(ko)(lo||(lo=Object(ft.a)(["\n  color: ",";\n  ","\n"])),(function(e){return"true"===e.is_disabled?"gray":"#638def"}),"\n  width: 30px;\n  padding: 4px;\n  height: 30px;\n"),Co=function(){var e=jn(),n=e.uiState,t=e.updateUiState,r=ot().emitterService,o=st(),i=o.canConfirmMove,a=o.canUndo,c=!a(),s=!i();return Object(_e.jsxs)(Eo,{children:[Object(_e.jsx)(Ro,{title:"Undo",isDisabled:c,onClick:function(){return document.querySelector("#play-undo-move").click(),t(Object(xn.a)(Object(xn.a)({},n),{},{pressedUndo:!0})),void r.undo()},children:Object(_e.jsx)(To,{is_disabled:String(c)})}),Object(_e.jsx)(Ro,{title:"Confirm",isDisabled:s,onClick:function(){return document.querySelector("#play-confirm-move").click(),t(Object(xn.a)(Object(xn.a)({},n),{},{pressedConfirm:!0})),void r.confirmMove()},children:Object(_e.jsx)(Io,{is_disabled:String(s)})})]})},Mo=["W","N","S","E","CENTER"],Do=function(){var e=st(),n=e.isMyTurn,t=e.hasWin;return Object(pe.useEffect)((function(){t()&&document.querySelector("#play-win").click()}),[t()]),Object(_e.jsxs)(Qt,{children:[Object(_e.jsxs)(Zt,{children:[Mo.map((function(e){return Object(_e.jsx)($t,{side:e,children:"CENTER"===e&&Object(_e.jsxs)(_e.Fragment,{children:[Object(_e.jsx)(qr,{player:"B"}),n&&Object(_e.jsx)(Co,{}),Object(_e.jsx)(qr,{player:"W"})]})},e)})),Object(_e.jsx)(nr,{children:Object(_e.jsx)(tr,{})}),Object(_e.jsxs)(er,{side:"left",children:[ve.left.map((function(e){return Object(_e.jsx)(mr,{quadrantNum:e.quadrantNum,pipsRange:e.pipsRange},e.quadrantNum)})),Object(_e.jsx)(Pr,{player:"W"})]}),Object(_e.jsxs)(er,{side:"right",children:[ve.right.map((function(e){return Object(_e.jsx)(mr,{quadrantNum:e.quadrantNum,pipsRange:e.pipsRange},e.quadrantNum)})),Object(_e.jsx)(Pr,{player:"B"})]})]}),Object(_e.jsxs)($t,{side:"BEAROFF",children:[Object(_e.jsx)(Yr,{player:"W"}),Object(_e.jsx)(Yr,{player:"B"})]})]})},_o=Oe.c.div(po||(po=Object(ft.a)(["\n  box-sizing: border-box;\n  background-image: url(/wood-texture.png);\n  width: 100%;\n  height: 100vh;\n  margin: auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-top: 20px;\n"]))),Uo=Oe.c.div(ho||(ho=Object(ft.a)(["\n  background-color: white;\n  border-radius: 4px;\n  // box-shadow: 19px -7px 19px black;\n"]))),Lo=Oe.c.div(jo||(jo=Object(ft.a)(["\n  border: 1px solid black;\n  background-image: url(/wood-board.jpg);\n  box-shadow: 9px 3px 19px black;\n  border-radius: 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 5%;\n  margin-bottom: 50px;\n  width: 80%;\n  color: white;\n"]))),Ao=Oe.c.div(mo||(mo=Object(ft.a)(["\n  border: 1px solid black;\n  background-image: url(/wood-board.jpg);\n  box-shadow: 9px 3px 19px black;\n  border-radius: 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 10%;\n  width: 71%;\n  margin-top: calc(50vh - 20%);\n  color: white;\n  font-size: 20px;\n  font-style: italic;\n"]))),Po=Oe.c.div(xo||(xo=Object(ft.a)(["\n  background-color: transparent;\n  flex: 1;\n  color: black;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: white;\n  padding: 0px 10px;\n\n  & label {\n    font-size: 1.2vw;\n  }\n"]))),Fo=Oe.c.div(fo||(fo=Object(ft.a)(["\n  flex: 2;\n  display: flex;\n  font-size: 1.7vw;\n  justify-content: center;\n  align-items: center;\n  color: orange;\n"]))),Bo=Oe.c.div(Oo||(Oo=Object(ft.a)(["\n  box-sizing: border-box;\n  border: 1px solid black;\n  border-bottom: none;\n  border-radius: 8px;\n  border-bottom-left-radius: 0px;\n  border-bottom-right-radius: 0px;\n  border-top-right-radius: 0px;\n  border-right: 0px;\n  box-shadow: -5px -3px 18px #4f4a46;\n  background-image: url(/wood-board.jpg);\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n\n  bottom: 0px;\n  right: 0px;\n  width: 40vw;\n  height: 15vh;\n  min-width: 300px;\n  min-height: 80px;\n  z-index: 9999;\n\n  transition: bottom 0.5s ease-out;\n\n  animation: "," 0.5s ease-out;\n  animation-direction: alternate;\n\n  h4 {\n    margin: 0px;\n    padding: 0px;\n    font-size: calc(8px + 0.8vw);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 35%;\n    border-bottom: 1px solid black;\n    font-style: italic;\n    font-weight: normal;\n    color: white;\n  }\n\n  .buttons {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex: 1;\n\n    & button {\n      width: 100px;\n      height: 30px;\n      &:nth-child(even) {\n        background-color: #fa4f4f;\n        margin-left: 20px;\n      }\n\n      &:nth-child(odd) {\n        background-color: #4f8c4f;\n        margin-left: 20px;\n      }\n    }\n  }\n"])),Object(Oe.d)(bo||(bo=Object(ft.a)(["\n  0% {\n    bottom: -15vh;\n  }\n  100% {\n    bottom: 0px;\n  }\n"])))),Wo=Oe.c.div(go||(go=Object(ft.a)(["\n  background-image: url(/wood-t.jpg);\n  border-radius: 50%;\n  box-shadow: 3px 6px 9px 4px rgb(15 12 23 / 81%) inset;\n  width: 40px;\n  height: 40px;\n  margin-left: 40px;\n\n  animation: "," 0.7s infinite;\n  animation-direction: alternate;\n"])),Object(Oe.d)(uo||(uo=Object(ft.a)(["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),qo=Oe.c.div(vo||(vo=Object(ft.a)(["\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  width: 50px;\n  border: 3px solid #73AD21;\n"]))),Ho=function(){var e=Object(fn.f)(),n=Object(pe.useContext)(dt).inferLog,t=ot(),r=t.networkState,o=t.roomsService,i=t.emitterService,a=st(),c=a.canInviteForRematch,s=a.shouldShowRematchInvitation,d=o.setIsSendRematchInvitationLoading,l="STARTED"===r.status,u=r.status,b=r.hostUsername,p=r.guestUsername,h=r.role,j=r.roomId;return Object(pe.useEffect)((function(){return void 0!==r.roomName&&(document.title="Game Room: ".concat(r.roomName)),function(){document.title="Backgammon"}}),[r.roomName]),Object(_e.jsxs)(_o,{children:[!l&&Object(_e.jsxs)(Ao,{children:[Object(_e.jsx)("span",{children:"Waiting for guest player to join "}),Object(_e.jsx)(Wo,{})]}),l&&Object(_e.jsxs)(_e.Fragment,{children:[Object(_e.jsxs)(Lo,{children:[Object(_e.jsxs)(Po,{style:{borderRight:"1px solid #7e512f"},children:[Object(_e.jsx)(Jt,{canBeSelected:!1,checkerNum:0,player:"W",hasMove:!1,canBeHit:!1,countIndicator:void 0}),Object(_e.jsx)("label",{children:b})]}),Object(_e.jsx)(Fo,{children:n()}),Object(_e.jsxs)(Po,{style:{borderLeft:"1px solid #7e512f"},children:[Object(_e.jsx)(Jt,{canBeSelected:!1,checkerNum:0,player:"B",hasMove:!1,canBeHit:!1,countIndicator:void 0}),Object(_e.jsx)("label",{children:p})]})]}),Object(_e.jsx)(Uo,{children:Object(_e.jsx)(Do,{})}),c()&&Object(_e.jsx)(Et,{onClick:function(){d(!0),i.sendRematchInvitation()},children:"Invite for Rematch"}),s()&&Object(_e.jsxs)(Bo,{children:[Object(_e.jsx)("h4",{children:"Kiko invited you to play again"}),Object(_e.jsxs)("div",{className:"buttons",children:[Object(_e.jsx)(Et,{onClick:function(){i.acceptRematchInvitation()},children:"Accept"}),Object(_e.jsx)(Et,{onClick:function(){i.declineRematchInvitation()},children:"Decline"})]})]})]}),Object(_e.jsx)(qo,{children:Object(_e.jsx)("img",{src:"/jump_out2.png",onClick:function(){console.log("=======1.onQuitFromGame function called.=========="),i.quitFromGame(u,j,h,b,p),e.push("/game")}})})]})},zo=Oe.c.div(yo||(yo=Object(ft.a)([""]))),Go=function(){return Object(_e.jsx)(zo,{children:Object(_e.jsx)(Ho,{})})},Vo=t(14),Jo=t(37),Yo=Oe.c.div(wo||(wo=Object(ft.a)(["\n  background-image: url(/wood-texture.png);\n  height: calc(100vh - 56px);\n  padding: 10px;\n\n  display: flex;\n  justify-content: center;\n  // align-items: center;\n"]))),Xo=function(e){var n=e.history,t=Object(pe.useState)(!1),r=Object(xe.a)(t,2),o=r[0],i=r[1],a=Object(pe.useState)(""),c=Object(xe.a)(a,2),s=c[0],d=c[1],l=Jo.a().shape({username:Jo.b().required("This field is required!"),password:Jo.b().required("This field is required!")});return Object(_e.jsx)(Yo,{children:Object(_e.jsx)("div",{className:"col-md-12",children:Object(_e.jsxs)("div",{className:"card card-container",children:[Object(_e.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),Object(_e.jsx)(Vo.d,{initialValues:{username:"",password:""},validationSchema:l,onSubmit:function(e){var t=e.username,r=e.password;d(""),i(!0),mt.login(t,r).then((function(){n.push("/game"),window.location.reload()}),(function(e){var n=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();i(!1),d(n)}))},children:Object(_e.jsxs)(Vo.c,{children:[Object(_e.jsxs)("div",{className:"form-group",children:[Object(_e.jsx)("label",{htmlFor:"username",children:"Username"}),Object(_e.jsx)(Vo.b,{name:"username",type:"text",className:"form-control"}),Object(_e.jsx)(Vo.a,{name:"username",component:"div",className:"alert alert-danger"})]}),Object(_e.jsxs)("div",{className:"form-group",children:[Object(_e.jsx)("label",{htmlFor:"password",children:"Password"}),Object(_e.jsx)(Vo.b,{name:"password",type:"password",className:"form-control"}),Object(_e.jsx)(Vo.a,{name:"password",component:"div",className:"alert alert-danger"})]}),Object(_e.jsx)("div",{className:"form-group",children:Object(_e.jsxs)("button",{type:"submit",className:"btn btn-primary btn-block",disabled:o,children:[o&&Object(_e.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(_e.jsx)("span",{children:"Login"})]})}),s&&Object(_e.jsx)("div",{className:"form-group",children:Object(_e.jsx)("div",{className:"alert alert-danger",role:"alert",children:s})})]})})]})})})},Ko=Oe.c.div(So||(So=Object(ft.a)(["\n  background-image: url(/wood-texture.png);\n  height: 100%;\n  padding: 10px;\n\n  display: flex;\n  justify-content: center;\n  // align-items: center;\n"]))),Zo=function(){var e=Object(pe.useState)(!1),n=Object(xe.a)(e,2),t=n[0],r=n[1],o=Object(pe.useState)(""),i=Object(xe.a)(o,2),a=i[0],c=i[1],s=Object(pe.useState)(!1),d=Object(xe.a)(s,2),l=d[0],u=d[1],b=Object(pe.useState)(""),p=Object(xe.a)(b,2),h=p[0],j=p[1],m=Jo.a().shape({username:Jo.b().test("len","The username must be between 3 and 20 characters.",(function(e){return e&&e.toString().length>=3&&e.toString().length<=20})).required("This field is required!"),email:Jo.b().email("This is not a valid email.").required("This field is required!"),password:Jo.b().test("len","The password must be between 6 and 40 characters.",(function(e){return e&&e.toString().length>=6&&e.toString().length<=40})).required("This field is required!")});return Object(_e.jsx)(Ko,{children:Object(_e.jsx)("div",{className:"col-md-12",children:Object(_e.jsxs)("div",{className:"card card-container",children:[Object(_e.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),Object(_e.jsx)(Vo.d,{initialValues:{username:"",email:"",password:"",country:"France",state:"",gender:"Male",birthday:""},validationSchema:m,onSubmit:function(e){var n=e.username,t=e.email,o=e.password,i=e.state,a=e.gender,s=e.birthday;console.log(i);var d=h,l="user";"backgammonAdmin"===n&&(l="admin",console.log(l)),mt.register(n,t,o,d,i,a,s,l).then((function(e){c(e.data.message),r(!0)}),(function(e){var n=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();c(n),r(!1)}))},children:Object(_e.jsxs)(Vo.c,{children:[!t&&Object(_e.jsxs)("div",{children:[Object(_e.jsxs)("div",{className:"form-group",children:[Object(_e.jsx)("label",{htmlFor:"username",children:" Username "}),Object(_e.jsx)(Vo.b,{name:"username",type:"text",className:"form-control"}),Object(_e.jsx)(Vo.a,{name:"username",component:"div",className:"alert alert-danger"})]}),Object(_e.jsxs)("div",{className:"form-group",children:[Object(_e.jsx)("label",{htmlFor:"email",children:" Email "}),Object(_e.jsx)(Vo.b,{name:"email",type:"email",className:"form-control"}),Object(_e.jsx)(Vo.a,{name:"email",component:"div",className:"alert alert-danger"})]}),Object(_e.jsxs)("div",{className:"form-group",children:[Object(_e.jsx)("label",{htmlFor:"password",children:" Password "}),Object(_e.jsx)(Vo.b,{name:"password",type:"password",className:"form-control"}),Object(_e.jsx)(Vo.a,{name:"password",component:"div",className:"alert alert-danger"})]}),Object(_e.jsxs)("div",{className:"form-group",children:[Object(_e.jsx)("label",{htmlFor:"country",children:" Country "}),Object(_e.jsxs)(Vo.b,{name:"country",as:"select",className:"form-control",value:h,onChange:function(e){console.log(e.currentTarget.value),j(e.currentTarget.value),"United States of America"===e.currentTarget.value?u(!0):u(!1)},children:[Object(_e.jsx)("option",{value:"United States of America",children:"United States of America"}),Object(_e.jsx)("option",{value:"United Kingdom",children:"United Kingdom"}),Object(_e.jsx)("option",{value:"China",children:"China"}),Object(_e.jsx)("option",{value:"Russia",children:"Russia"}),Object(_e.jsx)("option",{value:"France",children:"France"}),Object(_e.jsx)("option",{value:"Germany",children:"Germany"})]}),Object(_e.jsx)(Vo.a,{name:"country",component:"div",className:"alert alert-danger"})]}),l?Object(_e.jsxs)("div",{className:"form-group",children:[Object(_e.jsx)("label",{htmlFor:"state",children:" State "}),Object(_e.jsxs)(Vo.b,{name:"state",as:"select",className:"form-control",children:[Object(_e.jsx)("option",{value:"Nebraska",children:"Nebraska"}),Object(_e.jsx)("option",{value:"Florida",children:"Florida"}),Object(_e.jsx)("option",{value:"Washington",children:"Washington"}),Object(_e.jsx)("option",{value:"Kansas",children:"Kansas"})]}),Object(_e.jsx)(Vo.a,{name:"country",component:"div",className:"alert alert-danger"})]}):null,Object(_e.jsxs)("div",{className:"form-group",children:[Object(_e.jsx)("label",{htmlFor:"gender",children:" Gender "}),Object(_e.jsxs)(Vo.b,{as:"select",name:"gender",className:"form-control",children:[Object(_e.jsx)("option",{value:"male",children:"Male"}),Object(_e.jsx)("option",{value:"female",children:"Female"})]}),Object(_e.jsx)(Vo.a,{name:"gender",component:"div",className:"alert alert-danger"})]}),Object(_e.jsxs)("div",{className:"form-group",children:[Object(_e.jsx)("label",{htmlFor:"birthday",children:" Birthday "}),Object(_e.jsx)(Vo.b,{name:"birthday",type:"date",className:"form-control"}),Object(_e.jsx)(Vo.a,{name:"birthday",component:"div",className:"alert alert-danger"})]}),Object(_e.jsx)("div",{className:"form-group",children:Object(_e.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",children:"Sign Up"})})]}),a&&Object(_e.jsx)("div",{className:"form-group",children:Object(_e.jsx)("div",{className:t?"alert alert-success":"alert alert-danger",role:"alert",children:a})})]})})]})})})};t(293);var Qo=Oe.c.div(No||(No=Object(ft.a)(["\n  background-image: url(/wood-texture.png);\n\n  height: 100%;\n  padding: 10px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),$o=function(){var e=Object(pe.useState)(),n=Object(xe.a)(e,2);return n[0],n[1],Object(_e.jsx)(Qo,{children:Object(_e.jsx)("header",{className:"jumbotron",children:Object(_e.jsx)("h1",{className:"content contentColor",children:"WELCOME TO BACKGAMMON"})})})},ei=function(){var e=mt.getCurrentUser();return Object(_e.jsxs)("div",{className:"container",children:[Object(_e.jsx)("header",{className:"jumbotron",children:Object(_e.jsxs)("h3",{children:[Object(_e.jsx)("strong",{children:e.username})," Profile"]})}),Object(_e.jsxs)("p",{children:[Object(_e.jsx)("strong",{children:"Token:"})," ",e.accessToken.substring(0,20)," ..."," ",e.accessToken.substr(e.accessToken.length-20)]}),Object(_e.jsxs)("p",{children:[Object(_e.jsx)("strong",{children:"Id:"})," ",e.id]}),Object(_e.jsxs)("p",{children:[Object(_e.jsx)("strong",{children:"Email:"})," ",e.email]}),Object(_e.jsx)("strong",{children:"Authority:"}),Object(_e.jsx)("ul",{children:e.role})]})},ni=t(10),ti=t(11);function ri(){try{var e=localStorage.getItem("user");if("string"!==typeof e)throw new Error("User info not found");var n=JSON.parse(e).accessToken;if(!("string"===typeof n&&n.length>=1))throw new Error("Invalid user access token");return{"x-access-token":n}}catch(t){return{}}}var oi,ii="https://backgammoncloud.herokuapp.com/api/",ai=new(function(){function e(){Object(ut.a)(this,e)}return Object(bt.a)(e,[{key:"getPublicContent",value:function(){return ht.a.get(ii+"all")}},{key:"getUserBoard",value:function(){return ht.a.get(ii+"user",{headers:ri()})}},{key:"getAdminBoard",value:function(){return ht.a.get(ii+"admin",{headers:ri()})}},{key:"getAllUsers",value:function(){return ht.a.get(ii+"users",{headers:ri()})}},{key:"deleteUser",value:function(e){var n={deleteItem:e};return ht.a.post(ii+"delete",n,{headers:ri()})}}]),e}()),ci=function(e){Object(ni.a)(t,e);var n=Object(ti.a)(t);function t(e){var r;return Object(ut.a)(this,t),(r=n.call(this,e)).state={content:""},r}return Object(bt.a)(t,[{key:"componentDidMount",value:function(){var e=this;ai.getUserBoard().then((function(n){e.setState({content:n.data})}),(function(n){e.setState({content:n.response&&n.response.data&&n.response.data.message||n.message||n.toString()}),n.response&&401===n.response.status&&xt.dispatch("logout")}))}},{key:"render",value:function(){return Object(_e.jsx)("div",{className:"container",children:Object(_e.jsx)("header",{className:"jumbotron",children:Object(_e.jsx)("h3",{children:this.state.content})})})}}]),t}(pe.Component),si=Oe.c.div(oi||(oi=Object(ft.a)(["\n  background-image: url(wood-t.jpg);\n  height: 100%;\n  padding: 1rem;\n\n  table {\n    border-spacing: 0;\n    border: 1px solid black;\n    margin: auto;\n    tr {\n      :last-child {\n        td {\n          border-bottom: 0;\n        }\n      }\n    }\n\n    th,\n    td {\n      margin: 0;\n      padding: 0.5rem;\n      text-align: center;\n      border-bottom: 1px solid black;\n      border-right: 1px solid black;\n\n      :last-child {\n        border-right: 0;\n      }\n    }\n    tr:hover {background-color: #D6EEEE;}\n\n  }\n"])));var di,li=function(){var e=ot(),n=e.emitterService,t=e.roomsService.allRooms;Object(pe.useEffect)((function(){n.getAllRooms()}),[]);var r=function(e){console.log(e.currentTarget.value),n.deleteRoom(e.currentTarget.value)};return Object(_e.jsx)(si,{children:Object(_e.jsxs)("table",{children:[Object(_e.jsx)("thead",{children:Object(_e.jsxs)("tr",{children:[Object(_e.jsx)("th",{children:"Room No"}),Object(_e.jsx)("th",{children:"Room Name"}),Object(_e.jsx)("th",{children:"Live Users"}),Object(_e.jsx)("th",{children:"First Player"}),Object(_e.jsx)("th",{children:"Second Player"}),Object(_e.jsx)("th",{children:"First Player Country"}),Object(_e.jsx)("th",{children:"Second Player Country"}),Object(_e.jsx)("th",{children:"Delete"})]})}),Object(_e.jsx)("tbody",{children:t.map((function(e,n){return Object(_e.jsxs)("tr",{children:[Object(_e.jsx)("td",{children:++n}),Object(_e.jsx)("td",{children:e.name}),Object(_e.jsx)("td",{children:(o=n,t[o-1].hostUsername?t[o-1].hostUsername&&!t[o-1].guestUsername?1:2:0)}),Object(_e.jsx)("td",{children:e.hostUsername}),Object(_e.jsx)("td",{children:e.guestUsername}),Object(_e.jsx)("td",{children:e.hostCountry}),Object(_e.jsx)("td",{children:e.guestCountry}),Object(_e.jsx)("td",{children:Object(_e.jsx)("button",{value:e.id,onClick:r,children:"Delete"})})]},n);var o}))})]})})},ui=Oe.c.div(di||(di=Object(ft.a)(["\n  background-image: url(wood-t.jpg);\n  height: 100%;\n  padding: 1rem;\n\n  table {\n    border-spacing: 0;\n    border: 1px solid black;\n    margin: auto;\n    tr {\n      :last-child {\n        td {\n          border-bottom: 0;\n        }\n      }\n    }\n\n    th,\n    td {\n      margin: 0;\n      padding: 0.5rem;\n      text-align: center;\n      border-bottom: 1px solid black;\n      border-right: 1px solid black;\n\n      :last-child {\n        border-right: 0;\n      }\n    }\n    tr:hover {background-color: #D6EEEE;}\n\n  }\n"]))),bi=[{id:"dashboard",path:"/",component:$o,isExact:!0},{id:"login",path:"/login",component:Xo,isExact:!0},{id:"register",path:"/register",component:Zo,isExact:!0},{id:"profile",path:"/profile",component:ei,isExact:!0},{id:"boardUser",path:"/boardUser",component:ci,isExact:!0},{id:"allRooms",path:"/roomStatus",component:li,isExact:!0},{id:"allUsers",path:"/users",component:function(){var e=Object(pe.useState)([]),n=Object(xe.a)(e,2),t=n[0],r=n[1],o=Object(pe.useState)(""),i=Object(xe.a)(o,2),a=(i[0],i[1]);Object(pe.useEffect)((function(){ai.getAllUsers().then((function(e){console.log(e.data),r(e.data)}),(function(e){a(e.response&&e.response.data&&e.response.data.message||e.message||e.toString()),e.response&&401===e.response.status&&xt.dispatch("logout")}))}),[]);var c=function(e){ai.deleteUser(e.currentTarget.value).then((function(e){console.log(e.data),r(e.data)}),(function(e){a(e.response&&e.response.data&&e.response.data.message||e.message||e.toString()),e.response&&401===e.response.status&&xt.dispatch("logout")})),console.log(e.currentTarget.value)};return Object(_e.jsx)(ui,{children:Object(_e.jsxs)("table",{children:[Object(_e.jsx)("thead",{children:Object(_e.jsxs)("tr",{children:[Object(_e.jsx)("th",{children:"No"}),Object(_e.jsx)("th",{children:"Name"}),Object(_e.jsx)("th",{children:"Email"}),Object(_e.jsx)("th",{children:"Country"}),Object(_e.jsx)("th",{children:"Gender"}),Object(_e.jsx)("th",{children:"Birthday"}),Object(_e.jsx)("th",{children:"Win Times"}),Object(_e.jsx)("th",{children:"Loss Times"}),Object(_e.jsx)("th",{children:"Created Date"}),Object(_e.jsx)("th",{children:"Last Login Date"}),Object(_e.jsx)("th",{children:"Delete"})]})}),Object(_e.jsx)("tbody",{children:t.map((function(e,n){return Object(_e.jsxs)("tr",{children:[Object(_e.jsx)("td",{children:++n}),Object(_e.jsx)("td",{children:e.username}),Object(_e.jsx)("td",{children:e.email}),Object(_e.jsx)("td",{children:e.country}),Object(_e.jsx)("td",{children:e.gender}),Object(_e.jsx)("td",{children:e.birthday}),Object(_e.jsx)("td",{children:e.win_time}),Object(_e.jsx)("td",{children:e.loss_time}),Object(_e.jsx)("td",{children:e.created_date}),Object(_e.jsx)("td",{children:e.last_login_date}),Object(_e.jsx)("td",{children:Object(_e.jsx)("button",{value:e.email,onClick:c,children:"Delete"})})]},n)}))})]})})},isExact:!0},{id:"lobby",path:"/game",component:qt,isExact:!0},{id:"lobby",path:"/game/create",component:qt,isExact:!0},{id:"lobby",path:"/game/join",component:qt,isExact:!0},{id:"lobby",path:"/about",component:qt,isExact:!0},{id:"playground",path:"/game/:id",component:Go,isExact:!0}],pi=function(){var e=ot().networkState,n=Object(pe.useState)(!1),t=Object(xe.a)(n,2),r=t[0],o=t[1],i=Object(pe.useState)(),a=Object(xe.a)(i,2),c=a[0],s=a[1],d=Object(pe.useState)(!1),l=Object(xe.a)(d,2),u=l[0],b=l[1];function p(){mt.logout(),s(void 0),b(!1)}return Object(pe.useEffect)((function(){var e=mt.getCurrentUser();if(e)return s(e),b("ROLE_ADMIN"==e.role),xt.on("logout",p),function(){xt.remove("logout",p)}}),[]),Object(pe.useEffect)((function(){"STARTED"===e.status||"WAITING_FOR_GUEST"===e.status?o(!0):o(!1)}),[e]),Object(_e.jsxs)("div",{className:"d-flex flex-column h-100",children:[!r&&Object(_e.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:[Object(_e.jsx)(ge.b,{to:"/",className:"navbar-brand",children:"Backgammon"}),Object(_e.jsxs)("div",{className:"navbar-nav mr-auto",children:[c&&Object(_e.jsx)("li",{className:"nav-item",children:Object(_e.jsx)(ge.b,{to:"/game",className:"nav-link",children:"Lobby"})}),u&&Object(_e.jsx)("li",{className:"nav-item",children:Object(_e.jsx)(ge.b,{to:"/roomStatus",className:"nav-link",children:"Room Status"})}),u&&Object(_e.jsx)("li",{className:"nav-item",children:Object(_e.jsx)(ge.b,{to:"/users",className:"nav-link",children:"Users Info"})})]}),c?Object(_e.jsx)("div",{className:"navbar-nav ms-auto",children:Object(_e.jsx)("li",{className:"nav-item",children:Object(_e.jsx)("a",{href:"/login",className:"nav-link",onClick:p,children:"LogOut"})})}):Object(_e.jsxs)("div",{className:"navbar-nav ms-auto",children:[Object(_e.jsx)("li",{className:"nav-item",children:Object(_e.jsx)(ge.b,{to:"/login",className:"nav-link",children:"Login"})}),Object(_e.jsx)("li",{className:"nav-item",children:Object(_e.jsx)(ge.b,{to:"/register",className:"nav-link",children:"Sign Up"})})]})]}),Object(_e.jsx)("div",{className:"flex-fill",children:Object(_e.jsx)(fn.c,{children:bi.map((function(e){return Object(_e.jsx)(fn.a,{exact:e.isExact,path:e.path,component:e.component},e.id)}))})})]})},hi=function(){var e=Object(pe.useState)(!1),n=Object(xe.a)(e,2),t=(n[0],n[1],Object(pe.useState)()),r=Object(xe.a)(t,2),o=(r[0],r[1]),i=Object(pe.useState)(!1),a=Object(xe.a)(i,2),c=(a[0],a[1]);function s(){mt.logout(),o(void 0),c(!1)}return Object(pe.useEffect)((function(){var e=mt.getCurrentUser();if(e)return o(e),c("ROLE_ADMIN"==e.role),xt.on("logout",s),function(){xt.remove("logout",s)}}),[]),Object(_e.jsx)(ge.a,{children:Object(_e.jsx)(Le,{children:Object(_e.jsx)(hn,{children:Object(_e.jsx)(rt,{children:Object(_e.jsx)(ct,{children:Object(_e.jsx)(lt,{children:Object(_e.jsx)(pi,{})})})})})})})},ji=function(){var e=Object(pe.useState)(window.innerWidth),n=Object(xe.a)(e,2),t=n[0],r=n[1],o=Object(pe.useState)(window.innerHeight),i=Object(xe.a)(o,2),a=i[0],c=i[1],s=Object(fe.a)("/sound-effects/move.mp3"),d=Object(xe.a)(s,1)[0],l=Object(fe.a)("/sound-effects/hit.wav"),u=Object(xe.a)(l,1)[0],b=Object(fe.a)("/sound-effects/dice.wav"),p=Object(xe.a)(b,1)[0],h=Object(fe.a)("/sound-effects/select-checker.wav"),j=Object(xe.a)(h,1)[0],m=Object(fe.a)("/sound-effects/confirm-move.wav"),x=Object(xe.a)(m,1)[0],f=Object(fe.a)("/sound-effects/undo.wav"),O=Object(xe.a)(f,1)[0],g=Object(fe.a)("/sound-effects/win.wav"),v=Object(xe.a)(g,1)[0];Object(pe.useEffect)((function(){var e=function(){var e=window,n=e.innerWidth,t=e.innerHeight;r(n),c(t)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var y={dimensions:{width:Math.min(1e3,.8*t),height:Math.min(1e3,.8*a)}};return Object(_e.jsx)("div",{style:{height:"100vh"},children:Object(_e.jsxs)(Oe.a,{theme:y,children:[Object(_e.jsx)(hi,{}),Object(_e.jsx)("button",{style:{display:"none"},onClick:function(){return d()},id:"play-move",children:"play"}),Object(_e.jsx)("button",{style:{display:"none"},onClick:function(){return u()},id:"play-hit",children:"hit"}),Object(_e.jsx)("button",{style:{display:"none"},onClick:function(){return p()},id:"play-dice-throw",children:"Dice Throw"}),Object(_e.jsx)("button",{style:{display:"none"},onClick:function(){return j()},id:"play-select-checker",children:"Select Checker"}),Object(_e.jsx)("button",{style:{display:"none"},onClick:function(){return x()},id:"play-confirm-move",children:"Confirm Move"}),Object(_e.jsx)("button",{style:{display:"none"},onClick:function(){return O()},id:"play-undo-move",children:"Undo Move"}),Object(_e.jsx)("button",{style:{display:"none"},onClick:function(){return v()},id:"play-win",children:"Win"})]})})},mi=function(e){e&&e instanceof Function&&t.e(4).then(t.bind(null,296)).then((function(n){var t=n.getCLS,r=n.getFID,o=n.getFCP,i=n.getLCP,a=n.getTTFB;t(e),r(e),o(e),i(e),a(e)}))};me.a.render(Object(_e.jsx)(he.a.StrictMode,{children:Object(_e.jsx)(ji,{})}),document.getElementById("root")),mi()}},[[294,1,2]]]);
//# sourceMappingURL=main.f6c39aab.chunk.js.map